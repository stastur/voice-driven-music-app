{"version":3,"sources":["modules/recognition/recognition.ts","modules/navigation/navigation.ts","modules/deezer/components/player/Player.tsx","modules/deezer/api/api.ts","modules/deezer/components/auth/Auth.tsx","components/header/black-logo.svg","components/header/Header.tsx","components/card/Card.tsx","components/slidingBox/SlidingBox.tsx","components/track/Track.tsx","utils/helpers.ts","pages/homepage/Homepage.tsx","pages/genre/Genre.tsx","pages/artist/Artist.tsx","App.tsx","modules/deezer/index.ts","index.tsx"],"names":["Recognition","_recognition","_commandsMap","Map","_eventListenersMap","setLanguage","lang","setAlternatives","alternativesNumber","maxAlternatives","setInterimResults","interimResults","setContinuous","continuous","_initializeEventHandlers","forEach","type","addEventListener","event","_getEventListener","results","resultIndex","result","_getCommandCallback","transcript","start","key","callback","match","RegExp","exec","slice","entries","noop","get","addCommand","command","set","trigger","addCommands","commands","listener","removeEventListener","delete","abort","stop","SpeechRecognition","window","webkitSpeechRecognition","Error","this","pageUrls","myTracks","genre","home","artist","Navigation","_history","scrollTo","target","node","document","evaluate","toLowerCase","body","iterateNext","element","parentElement","scrollIntoView","behavior","goTo","Object","values","includes","push","back","goBack","forward","goForward","Volume","value","Box","px","d","alignItems","as","FaVolumeUp","paddingRight","Slider","width","onChange","DZ","player","setVolume","Controls","isPlaying","IconButton","variant","aria-label","icon","FaBackward","onClick","prev","FaPause","FaPlay","pause","play","FaForward","next","Song","details","flexGrow","fontWeight","fontSize","title","name","TrackProgress","position","duration","progressValue","seek","TracksQueue","tracks","active","useState","isOpen","setIsOpen","Collapse","backgroundColor","bottom","right","maxHeight","overflowY","borderWidth","shadow","rounded","p","mb","length","List","height","map","track","id","FaMusic","Button","size","Player","props","useDeezerSubscriptions","volume","queue","getTrackList","setQueue","getVolume","setIsPlaying","setPosition","setDuration","getCurrentTrack","setTrack","useEffect","Event","subscribe","ApiEntity","_apiPath","_request","path","method","data","Promise","resolve","params","res","response","error","filter","negate","isNil","curriedFn","curry","api","reduce","fn","arg","e","_buildUrl","TrackEntity","fetchById","AlbumEntity","fetchTracks","RadioEntity","fetchTopStations","fetchStations","GenreEntity","fetchGenres","SearchEntity","searchEverything","query","searchTracks","ArtistEntity","fetchAlbums","fetchRelatedArtists","fetchTopTracks","fetchAllTracks","a","total","ChartEntity","genreId","fetchCharts","UserEntity","fetchMe","addToFavorites","trackId","track_id","removeFromFavorites","isFavoriteTrack","find","EditorialEntity","fetchEditorials","fetchReleases","editorialId","album","radio","search","chart","user","editorial","Auth","setUser","getLoginStatus","loginStatus","authResponse","Flex","justify","Menu","Avatar","src","picture_small","firstname","lastname","to","logout","login","loginResponse","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","x1","y1","x2","y2","gradientUnits","stopColor","offset","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","Header","children","align","Text","pr","LogoBlack","Card","onPlay","description","boxProps","w","overflow","boxShadow","isRound","m","Image","alt","flexDirection","SlidingBox","label","itemsRef","useRef","containerRef","setOffset","progress","setProgress","windowSize","setWindowSize","transitionsNumber","setTransitionsNumber","childrenCount","React","Children","count","handleResize","innerWidth","useLayoutEffect","visibleWidth","current","clientWidth","totalWidth","Math","ceil","moveBackward","useCallback","v","moveForward","Heading","pl","zIndex","left","top","FaChevronCircleLeft","overflowX","transform","transition","FaChevronCircleRight","Track","liked","mr","color","FaHeart","minutes","floor","seconds","padStart","normalizeDuration","defaultProps","Homepage","releases","setReleases","stations","setStations","setTracks","editorials","setEditorials","isLoading","setIsLoading","asyncEffect","Spinner","flexWrap","picture_medium","playRadio","cover_medium","playAlbum","SimpleGrid","columns","spacing","playTracks","xs","md","Genre","setChart","setGenre","useParams","artists","albums","playlists","playPlaylist","sm","Artist","setArtist","relatedArtists","setRelatedArtists","setAlbums","topTracks","setTopTracks","mx","picture_big","ml","textTransform","take","index","arr","Fragment","PseudoBox","_hover","textDecoration","App","toast","useToast","history","useHistory","navigation","recognition","args","speechEvent","Array","from","r","join","CSSReset","exact","bg","appId","channelUrl","onload","dzRoot","appendChild","script","head","dzAsyncInit","init","initDeezer","process","location","href","ReactDOM","render","basename","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.a4e04e91.chunk.js","sourcesContent":["import { noop } from 'lodash-es'\n\nimport {\n  ICommand,\n  IRecognition,\n  ISpeechEventType,\n  ISpeechEventListener,\n} from './types'\n\nconst DEFAULT_LANGUAGE = 'en-US'\nconst DEFAULT_MAX_ALTERNATIVES = 5\n\nexport class Recognition implements IRecognition {\n  private _recognition: SpeechRecognition\n  private _commandsMap = new Map<ICommand['trigger'], ICommand['callback']>()\n  private _eventListenersMap = new Map<ISpeechEventType, ISpeechEventListener>()\n\n  constructor() {\n    const SpeechRecognition = (window as any).webkitSpeechRecognition\n\n    if (!SpeechRecognition) {\n      throw new Error('Speech recognition is not supported by your browser')\n    }\n\n    this._recognition = new SpeechRecognition()\n\n    this._recognition.maxAlternatives = DEFAULT_MAX_ALTERNATIVES\n    this._recognition.lang = DEFAULT_LANGUAGE\n    this._recognition.interimResults = false\n    this._recognition.continuous = false\n\n    this._initializeEventHandlers()\n  }\n\n  setLanguage = (lang: string) => {\n    this._recognition.lang = lang\n    return this\n  }\n\n  setAlternatives = (alternativesNumber: number) => {\n    this._recognition.maxAlternatives = alternativesNumber\n    return this\n  }\n\n  setInterimResults = (interimResults: boolean) => {\n    this._recognition.interimResults = interimResults\n    return this\n  }\n\n  setContinuous = (continuous: boolean) => {\n    this._recognition.continuous = continuous\n    return this\n  }\n\n  private _initializeEventHandlers = () => {\n    ;[\n      'speechstart',\n      'speechend',\n      'soundstart',\n      'soundend',\n      'nomatch',\n      'error',\n      'audiostart',\n      'audioend',\n      'result',\n      'start',\n      'end',\n    ].forEach(type =>\n      this._recognition.addEventListener(type, event =>\n        this._getEventListener(type as ISpeechEventType)(event)\n      )\n    )\n\n    this._recognition.addEventListener('result', event => {\n      const results = event.results[event.resultIndex]\n\n      for (const result of results) {\n        this._getCommandCallback(result.transcript)()\n      }\n    })\n\n    this._recognition.addEventListener('end', () => {\n      this.start()\n    })\n  }\n\n  private _getCommandCallback = (result: string) => {\n    for (const [key, callback] of this._commandsMap.entries()) {\n      const match = new RegExp(`^${key}`).exec(result)\n\n      if (match) {\n        return () => callback(match.slice(1))\n      }\n    }\n\n    return noop\n  }\n\n  private _getEventListener = (event: ISpeechEventType) => {\n    return this._eventListenersMap.get(event) || noop\n  }\n\n  addCommand = (command: ICommand) => {\n    this._commandsMap.set(command.trigger, command.callback)\n    return this\n  }\n\n  addCommands = (commands: ICommand[]) => {\n    commands.forEach(this.addCommand)\n    return this\n  }\n\n  addEventListener = (\n    type: ISpeechEventType,\n    listener: ISpeechEventListener\n  ) => {\n    this._eventListenersMap.set(type, listener)\n  }\n\n  removeEventListener = (type: ISpeechEventType) => {\n    this._eventListenersMap.delete(type)\n  }\n\n  start = () => {\n    this._recognition.start()\n  }\n\n  abort = () => {\n    this._recognition.abort()\n  }\n\n  stop = () => {\n    this._recognition.stop()\n  }\n}\n","import { History } from 'history'\n\nexport const pageUrls = {\n  myTracks: 'my-tracks',\n  genre: '/genre/:id',\n  home: '/',\n  artist: '/artist/:id',\n}\n\nexport class Navigation {\n  constructor(private _history: History) {}\n\n  scrollTo = (target: string) => {\n    const nodes = document.evaluate(\n      // I'd like to simply write //*[matches(text(), \"value\", \"i\")], but JS says it's an invalid xpath\n      `//div[@id=\"root\"]//*[contains(translate(text(), \"ABCDEFGHIJKLMNOPURSTUWXYZ\",\"abcdefghijklmnopurstuwxyz\"),\"${target.toLowerCase()}\")]`,\n      document.body\n    )\n    const node = nodes.iterateNext()\n\n    const element = node?.parentElement\n\n    if (!element) {\n      return\n    }\n\n    element.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  goTo = (target: string) => {\n    if (!Object.values(pageUrls).includes(target)) {\n      return\n    }\n\n    this._history.push(target)\n  }\n\n  back = () => {\n    this._history.goBack()\n  }\n\n  forward = () => {\n    this._history.goForward()\n  }\n}\n","import React, { useState, useEffect } from 'react'\nimport {\n  Slider,\n  SliderFilledTrack,\n  SliderThumb,\n  SliderTrack,\n  Box,\n  IconButton,\n  BoxProps,\n  Collapse,\n  ListItem,\n  List,\n  Button,\n  ListIcon,\n} from '@chakra-ui/core'\nimport {\n  FaBackward,\n  FaForward,\n  FaPlay,\n  FaPause,\n  FaVolumeUp,\n  FaMusic,\n} from 'react-icons/fa'\n\nconst Volume: React.FC<{ value: number }> = ({ value }) => (\n  <Box px={2} d=\"flex\" alignItems=\"center\">\n    <Box as={FaVolumeUp} paddingRight=\"1\" />\n\n    <Box d=\"flex\" alignItems=\"center\">\n      <Slider width=\"24\" value={value} onChange={DZ.player.setVolume}>\n        <SliderTrack />\n        <SliderFilledTrack />\n        <SliderThumb />\n      </Slider>\n    </Box>\n  </Box>\n)\n\nconst Controls: React.FC<{ isPlaying: boolean }> = ({ isPlaying }) => (\n  <Box>\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"previous track\"\n      icon={FaBackward}\n      onClick={DZ.player.prev}\n    />\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"play/pause track\"\n      icon={isPlaying ? FaPause : FaPlay}\n      onClick={isPlaying ? DZ.player.pause : DZ.player.play}\n    />\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"next track\"\n      icon={FaForward}\n      onClick={DZ.player.next}\n    />\n  </Box>\n)\n\nconst Song: React.FC<{ details: DeezerSdk.Track }> = ({ details }) => (\n  <Box px=\"2\" flexGrow={1}>\n    <Box fontWeight=\"bold\" fontSize=\"md\">\n      {details?.title}\n    </Box>\n    <Box fontSize=\"xs\">{details?.artist?.name}</Box>\n  </Box>\n)\n\nconst TrackProgress: React.FC<{ position: number; duration: number }> = ({\n  position,\n  duration,\n}) => {\n  const progressValue = duration ? (position / duration) * 100 : 0\n\n  return (\n    <Slider onChange={DZ.player.seek} value={progressValue}>\n      <SliderTrack />\n      <SliderFilledTrack />\n      <SliderThumb />\n    </Slider>\n  )\n}\n\nconst TracksQueue: React.FC<{\n  tracks: Array<DeezerSdk.Track>\n  active: string\n}> = ({ tracks, active }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const toggleIsOpen = () => setIsOpen(isOpen => !isOpen)\n\n  return (\n    <Box>\n      <Box position=\"relative\">\n        <Collapse\n          backgroundColor=\"white\"\n          position=\"absolute\"\n          bottom={0}\n          right={0}\n          isOpen={isOpen}\n          width=\"3xs\"\n          maxHeight=\"lg\"\n          overflowY=\"auto\"\n          borderWidth=\"1px\"\n          shadow=\"sm\"\n          rounded=\"lg\"\n          p={3}\n          mb={2}\n        >\n          {!!tracks.length ? (\n            <List height=\"100%\" width=\"100%\">\n              {tracks.map(track => (\n                <ListItem key={track.id} d=\"flex\" alignItems=\"center\">\n                  {active === track.id && <ListIcon icon={FaMusic} />}\n                  <Song key={track.id} details={track} />\n                </ListItem>\n              ))}\n            </List>\n          ) : (\n            'Queue is empty'\n          )}\n        </Collapse>\n      </Box>\n      <Button onClick={toggleIsOpen} size=\"sm\">\n        Queue\n      </Button>\n    </Box>\n  )\n}\n\nexport const Player: React.FC<BoxProps> = props => {\n  const {\n    track,\n    volume,\n    isPlaying,\n    position,\n    duration,\n    queue,\n  } = useDeezerSubscriptions()\n\n  return (\n    <Box {...props}>\n      <TrackProgress position={position} duration={duration} />\n\n      <Box d=\"flex\" alignItems=\"center\">\n        <Controls isPlaying={isPlaying} />\n        <Song details={track} />\n        <Volume value={volume} />\n        <TracksQueue tracks={queue} active={track?.id} />\n      </Box>\n    </Box>\n  )\n}\n\nconst useDeezerSubscriptions = () => {\n  const [queue, setQueue] = useState<Array<DeezerSdk.Track>>(\n    DZ.player.getTrackList()\n  )\n  const [volume, setVolume] = useState<number>(DZ.player.getVolume())\n  const [isPlaying, setIsPlaying] = useState<boolean>(DZ.player.isPlaying())\n  const [position, setPosition] = useState<number>(0)\n  const [duration, setDuration] = useState<number>(0)\n  const [track, setTrack] = useState<DeezerSdk.Track>(\n    DZ.player.getCurrentTrack()\n  )\n\n  useEffect(() => {\n    DZ.Event.subscribe('volume_changed', setVolume)\n    DZ.Event.subscribe('current_track', ({ track }) => setTrack(track))\n    DZ.Event.subscribe('player_play', () => setIsPlaying(true))\n    DZ.Event.subscribe('player_paused', () => setIsPlaying(false))\n    DZ.Event.subscribe('player_position', ([position, duration]) => {\n      setPosition(position)\n      setDuration(duration)\n    })\n    DZ.Event.subscribe('tracklist_changed', () =>\n      setQueue(DZ.player.getTrackList())\n    )\n  }, [])\n\n  return { track, volume, isPlaying, position, duration, queue }\n}\n","import { curry, isNil, negate } from 'lodash'\n\nimport {\n  Track,\n  Album,\n  DataArray,\n  Radio,\n  Genre,\n  Artist,\n  ApiResponse,\n  Chart,\n  User,\n  Playlist,\n} from './types'\n\nabstract class ApiEntity {\n  protected abstract _apiPath: string\n\n  protected _request = <T>(\n    path: string,\n    method?: DeezerSdk.HttpMethod,\n    data?: any\n  ) => {\n    return new Promise<ApiResponse<T>>(resolve => {\n      const resolver = (res: any) => {\n        const response = res.error ? { error: res.error } : { body: res }\n        resolve(response)\n      }\n\n      const params = [path, method, data, resolver].filter(negate(isNil))\n      const curriedFn = curry(DZ.api, params.length)\n\n      try {\n        params.reduce((fn, arg) => fn(arg), curriedFn)\n      } catch (e) {\n        resolve({ error: e })\n      }\n    })\n  }\n\n  protected _buildUrl = (path?: string | number) =>\n    path ? `${this._apiPath}/${path}` : this._apiPath\n}\n\nclass TrackEntity extends ApiEntity {\n  protected _apiPath = 'track'\n\n  fetchById = (id: number) => {\n    return this._request<Track>(this._buildUrl(id))\n  }\n}\n\nclass AlbumEntity extends ApiEntity {\n  protected _apiPath = 'album'\n\n  fetchById = (id: number) => {\n    return this._request<Album>(this._buildUrl(id))\n  }\n\n  fetchTracks = (id: number) => {\n    return this._request<Pick<Album, 'tracks'>>(this._buildUrl(`${id}/tracks`))\n  }\n}\n\nclass RadioEntity extends ApiEntity {\n  protected _apiPath = 'radio'\n\n  fetchById = (id: number) => {\n    return this._request<Radio>(this._buildUrl(id))\n  }\n\n  fetchTopStations = () => {\n    return this._request<DataArray<Radio>>(this._buildUrl('top'))\n  }\n\n  fetchStations = () => {\n    return this._request<DataArray<Radio>>(this._buildUrl())\n  }\n\n  fetchTracks = (id: number) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`${id}/tracks`))\n  }\n}\n\nclass GenreEntity extends ApiEntity {\n  protected _apiPath = 'genre'\n\n  fetchById = (id: number) => {\n    return this._request<Genre>(this._buildUrl(id))\n  }\n\n  fetchGenres = () => {\n    return this._request<DataArray<Genre>>(this._buildUrl())\n  }\n}\n\nclass SearchEntity extends ApiEntity {\n  protected _apiPath = 'search'\n\n  searchEverything = (query: string) => {\n    return this._request<DataArray<Track | Artist | Album>>(\n      this._buildUrl(`track?q=${query}`)\n    )\n  }\n\n  searchTracks = (query: string) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`track?q=${query}`))\n  }\n}\n\nclass ArtistEntity extends ApiEntity {\n  protected _apiPath = 'artist'\n\n  fetchById = (id: number) => {\n    return this._request<Artist>(this._buildUrl(id))\n  }\n\n  fetchAlbums = (id: number) => {\n    return this._request<DataArray<Album>>(this._buildUrl(`${id}/albums`))\n  }\n\n  fetchRelatedArtists = (id: number) => {\n    return this._request<DataArray<Artist>>(this._buildUrl(`${id}/related`))\n  }\n\n  fetchTopTracks = (id: number) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`${id}/top`))\n  }\n\n  fetchAllTracks = async (id: number) => {\n    const data = (await this.fetchTopTracks(id)).body\n    const total = data?.total || 10\n\n    return this._request<DataArray<Track>>(\n      this._buildUrl(`${id}/top?limit=${total}`)\n    )\n  }\n}\n\nclass ChartEntity extends ApiEntity {\n  protected _apiPath = 'chart'\n\n  fetchById = (genreId: number) => {\n    return this._request<Chart>(this._buildUrl(genreId))\n  }\n\n  fetchCharts = () => {\n    return this._request<Chart>(this._buildUrl())\n  }\n}\n\nclass UserEntity extends ApiEntity {\n  protected _apiPath = 'user/me'\n\n  fetchMe = () => {\n    return this._request<User>(this._buildUrl())\n  }\n\n  fetchTracks = () => {\n    return this._request<Pick<Playlist, 'tracks'>>(this._buildUrl('tracks'))\n  }\n\n  addToFavorites = (trackId: number) => {\n    return this._request<unknown>(this._buildUrl('tracks'), 'POST', {\n      track_id: trackId,\n    })\n  }\n\n  removeFromFavorites = (trackId: number) => {\n    return this._request<unknown>(this._buildUrl('tracks'), 'DELETE', {\n      track_id: trackId,\n    })\n  }\n\n  isFavoriteTrack = async (trackId: number) => {\n    const { body } = await this.fetchTracks()\n\n    if (!body) {\n      return false\n    }\n\n    return !!body.tracks.data.find(({ id }) => id === trackId)\n  }\n}\n\nclass EditorialEntity extends ApiEntity {\n  protected _apiPath = 'editorial'\n\n  fetchEditorials = () => {\n    return this._request<DataArray<Genre>>(this._buildUrl())\n  }\n\n  fetchReleases = (editorialId?: number) => {\n    return this._request<DataArray<Album>>(\n      this._buildUrl(`${editorialId || 0}/releases`)\n    )\n  }\n}\n\nexport const api = {\n  track: new TrackEntity(),\n  album: new AlbumEntity(),\n  radio: new RadioEntity(),\n  genre: new GenreEntity(),\n  search: new SearchEntity(),\n  artist: new ArtistEntity(),\n  chart: new ChartEntity(),\n  user: new UserEntity(),\n  editorial: new EditorialEntity(),\n}\n","import React, { useState, useEffect } from 'react'\nimport { Link as RouterLink } from 'react-router-dom'\nimport {\n  Box,\n  Avatar,\n  Flex,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuGroup,\n  MenuItem,\n  MenuDivider,\n  Button,\n} from '@chakra-ui/core'\n\nimport { User } from '../../api/types'\nimport { api } from '../../api'\nimport { pageUrls } from '../../../navigation'\n\nexport const Auth: React.FC<{}> = () => {\n  const [user, setUser] = useState<User | null>(null)\n\n  useEffect(() => {\n    DZ.getLoginStatus(async loginStatus => {\n      if (loginStatus.authResponse) {\n        const { body } = await api.user.fetchMe()\n\n        return body && setUser(body)\n      }\n    })\n  }, [])\n\n  const isAuthorized = !!user\n\n  if (isAuthorized) {\n    return (\n      <Flex justify=\"center\">\n        <Menu>\n          <MenuButton>\n            <Avatar\n              size=\"sm\"\n              src={user?.picture_small}\n              name={`${user?.firstname} ${user?.lastname}`}\n            />\n          </MenuButton>\n          <MenuList>\n            <MenuGroup title=\"Profile\">\n              <MenuItem>\n                <RouterLink to={pageUrls.myTracks}>My Tracks</RouterLink>\n              </MenuItem>\n            </MenuGroup>\n            <MenuDivider />\n            <MenuGroup>\n              <MenuItem\n                onClick={() => {\n                  DZ.logout()\n                  setUser(null)\n                }}\n              >\n                Sign out\n              </MenuItem>\n            </MenuGroup>\n          </MenuList>\n        </Menu>\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      <Button\n        onClick={() =>\n          DZ.login(async loginResponse => {\n            if (!loginResponse.authResponse) {\n              return\n            }\n\n            const { body } = await api.user.fetchMe()\n            return body && setUser(body)\n          })\n        }\n      >\n        Log in\n      </Button>\n    </Box>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M335.461 94.9999C324.691 94.9999 315.831 88.5099 315.671 77.1099H366.671C367.339 74.0958 367.675 71.0173 367.671 67.93C367.671 47.34 353.581 34.2 332.841 34.2C310.671 34.2 295.471 51.4599 295.471 72.8299C295.471 96.5799 311.941 112.42 335.211 112.42C352.791 112.42 364.981 103.55 370.211 88.98L352.881 82.21C350.501 90.73 344.641 94.9999 335.461 94.9999ZM332.771 50.51C341.771 50.51 347.971 55.42 347.971 63.02L347.811 63.65H315.671C317.571 55.42 324.541 50.51 332.771 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M437.73 52.41V35.78H372.34V53.2H412.24L371.07 93.42V110.83H438.84V92.62H396.4L437.73 52.41Z\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M559.86 60.01C559.866 61.2709 559.782 62.5307 559.61 63.78H578.82C579.287 61.338 579.511 58.856 579.49 56.37C579.49 43.54 571.42 34.2 557.96 34.2C549.25 34.2 543.08 38.4799 539.91 45.4399V35.79H519.65V110.79H539.91V62.54C539.91 54.94 544.03 50.67 550.36 50.67C556.06 50.67 559.86 54.47 559.86 60.01Z\",\n  fill: \"white\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M194.999 47.03C190.399 39.27 181.849 34.2 171.249 34.2C150.659 34.2 135.619 50.04 135.619 73.63C135.619 96.9 150.509 112.42 171.719 112.42C182.329 112.42 190.879 107.82 195.789 100.07V110.83H215.259V0H194.999V47.03ZM175.829 95.21C164.589 95.21 155.829 86.98 155.829 73.68C155.829 60.22 164.539 51.68 175.829 51.68C186.749 51.68 195.779 60.23 195.779 73.68C195.779 86.93 186.749 95.21 175.829 95.21Z\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M479.81 94.9999C469.04 94.9999 460.18 88.5099 460.02 77.1099H511.02C511.689 74.0958 512.024 71.0173 512.02 67.93C512.02 47.34 497.93 34.2 477.19 34.2C455.02 34.2 439.82 51.4599 439.82 72.8299C439.82 96.5799 456.29 112.42 479.56 112.42C497.14 112.42 509.33 103.55 514.56 88.98L497.22 82.21C494.85 90.73 489 94.9999 479.81 94.9999ZM477.12 50.51C486.12 50.51 492.32 55.42 492.32 63.02L492.16 63.65H460C461.92 55.42 468.88 50.51 477.12 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M260.63 94.9999C249.86 94.9999 241 88.5099 240.84 77.1099H291.84C292.497 74.0947 292.815 71.0157 292.79 67.93C292.79 47.34 278.7 34.2 257.96 34.2C235.79 34.2 220.59 51.4599 220.59 72.8299C220.59 96.5799 237.06 112.42 260.33 112.42C277.91 112.42 290.1 103.55 295.33 88.98L278.05 82.21C275.67 90.73 269.81 94.9999 260.63 94.9999ZM257.94 50.51C266.94 50.51 273.14 55.42 273.14 63.02L272.98 63.65H240.84C242.74 55.42 249.71 50.51 257.94 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 35.73H90.5195V50.22H115.35V35.73Z\",\n  fill: \"#29AB70\"\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 55.9099H90.5195V70.3999H115.35V55.9099Z\",\n  fill: \"url(#paint0_linear)\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 76.08H90.5195V90.57H115.35V76.08Z\",\n  fill: \"url(#paint1_linear)\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M25.3398 96.26H0.509766V110.75H25.3398V96.26Z\",\n  fill: \"url(#paint2_linear)\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 96.26H30.5098V110.75H55.3398V96.26Z\",\n  fill: \"url(#paint3_linear)\"\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M85.3495 96.26H60.5195V110.75H85.3495V96.26Z\",\n  fill: \"url(#paint4_linear)\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 96.26H90.5195V110.75H115.35V96.26Z\",\n  fill: \"url(#paint5_linear)\"\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M85.3495 76.08H60.5195V90.57H85.3495V76.08Z\",\n  fill: \"url(#paint6_linear)\"\n});\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 76.08H30.5098V90.57H55.3398V76.08Z\",\n  fill: \"url(#paint7_linear)\"\n});\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 55.9099H30.5098V70.3999H55.3398V55.9099Z\",\n  fill: \"url(#paint8_linear)\"\n});\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M335.461 94.9999C324.691 94.9999 315.831 88.5099 315.671 77.1099H366.671C367.339 74.0958 367.675 71.0173 367.671 67.93C367.671 47.34 353.581 34.2 332.841 34.2C310.671 34.2 295.471 51.4599 295.471 72.8299C295.471 96.5799 311.941 112.42 335.211 112.42C352.791 112.42 364.981 103.55 370.211 88.98L352.881 82.21C350.501 90.73 344.641 94.9999 335.461 94.9999ZM332.771 50.51C341.771 50.51 347.971 55.42 347.971 63.02L347.811 63.65H315.671C317.571 55.42 324.541 50.51 332.771 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref19 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M437.73 52.41V35.78H372.34V53.2H412.24L371.07 93.42V110.83H438.84V92.62H396.4L437.73 52.41Z\",\n  fill: \"black\"\n});\n\nvar _ref20 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M559.86 60.01C559.866 61.2709 559.782 62.5307 559.61 63.78H578.82C579.287 61.338 579.511 58.856 579.49 56.37C579.49 43.54 571.42 34.2 557.96 34.2C549.25 34.2 543.08 38.4799 539.91 45.4399V35.79H519.65V110.79H539.91V62.54C539.91 54.94 544.03 50.67 550.36 50.67C556.06 50.67 559.86 54.47 559.86 60.01Z\",\n  fill: \"black\"\n});\n\nvar _ref21 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M194.999 47.03C190.399 39.27 181.849 34.2 171.249 34.2C150.659 34.2 135.619 50.04 135.619 73.63C135.619 96.9 150.509 112.42 171.719 112.42C182.329 112.42 190.879 107.82 195.789 100.07V110.83H215.259V0H194.999V47.03ZM175.829 95.21C164.589 95.21 155.829 86.98 155.829 73.68C155.829 60.22 164.539 51.68 175.829 51.68C186.749 51.68 195.779 60.23 195.779 73.68C195.779 86.93 186.749 95.21 175.829 95.21Z\",\n  fill: \"black\"\n});\n\nvar _ref22 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M479.81 94.9999C469.04 94.9999 460.18 88.5099 460.02 77.1099H511.02C511.689 74.0958 512.024 71.0173 512.02 67.93C512.02 47.34 497.93 34.2 477.19 34.2C455.02 34.2 439.82 51.4599 439.82 72.8299C439.82 96.5799 456.29 112.42 479.56 112.42C497.14 112.42 509.33 103.55 514.56 88.98L497.22 82.21C494.85 90.73 489 94.9999 479.81 94.9999ZM477.12 50.51C486.12 50.51 492.32 55.42 492.32 63.02L492.16 63.65H460C461.92 55.42 468.88 50.51 477.12 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref23 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M260.63 94.9999C249.86 94.9999 241 88.5099 240.84 77.1099H291.84C292.497 74.0947 292.815 71.0157 292.79 67.93C292.79 47.34 278.7 34.2 257.96 34.2C235.79 34.2 220.59 51.4599 220.59 72.8299C220.59 96.5799 237.06 112.42 260.33 112.42C277.91 112.42 290.1 103.55 295.33 88.98L278.05 82.21C275.67 90.73 269.81 94.9999 260.63 94.9999ZM257.94 50.51C266.94 50.51 273.14 55.42 273.14 63.02L272.98 63.65H240.84C242.74 55.42 249.71 50.51 257.94 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref24 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 104.55,\n  y1: 72.2999,\n  x2: 101.32,\n  y2: 53.9999,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2C8C9D\"\n}), React.createElement(\"stop\", {\n  offset: 0.04,\n  stopColor: \"#298E9A\"\n}), React.createElement(\"stop\", {\n  offset: 0.39,\n  stopColor: \"#129C83\"\n}), React.createElement(\"stop\", {\n  offset: 0.72,\n  stopColor: \"#05A475\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#00A770\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint1_linear\",\n  x1: 90.1495,\n  y1: 89.84,\n  x2: 115.72,\n  y2: 76.81,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2839BA\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#148CB3\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint2_linear\",\n  x1: 0.509766,\n  y1: 103.5,\n  x2: 25.3398,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#F6A500\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#F29100\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint3_linear\",\n  x1: 30.5098,\n  y1: 103.5,\n  x2: 55.3398,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#F29100\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#D12F5F\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint4_linear\",\n  x1: 60.5195,\n  y1: 103.5,\n  x2: 85.3495,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B4197C\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#472EAD\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint5_linear\",\n  x1: 90.5195,\n  y1: 103.5,\n  x2: 115.35,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2839BA\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#3072B7\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint6_linear\",\n  x1: 59.5395,\n  y1: 87.24,\n  x2: 86.3195,\n  y2: 79.41,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B4197C\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#373AAC\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint7_linear\",\n  x1: 29.6398,\n  y1: 78.49,\n  x2: 56.2198,\n  y2: 88.16,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#FFCB00\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#D12F5F\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint8_linear\",\n  x1: 32.6098,\n  y1: 53.6299,\n  x2: 53.2398,\n  y2: 72.6699,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#FFCF00\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#ED743B\"\n})));\n\nvar SvgBlackLogo = function SvgBlackLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 580,\n    height: 113,\n    viewBox: \"0 0 580 113\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBlackLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/black-logo.e1524107.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { Text, Box, Flex } from '@chakra-ui/core'\n\nimport { ReactComponent as LogoBlack } from './black-logo.svg'\n\nexport const Header: React.FC<{}> = ({ children }) => {\n  return (\n    <Flex as=\"header\" justify=\"space-between\" p=\"2\">\n      <Flex align=\"center\">{children}</Flex>\n      <Flex align=\"baseline\">\n        <Text as=\"span\" fontWeight=\"bold\" pr=\"2\">\n          Powered by\n        </Text>\n        <Box as={LogoBlack} height=\"4\" width=\"auto\" />\n      </Flex>\n    </Flex>\n  )\n}\n","import React from 'react'\nimport { Box, Image, BoxProps, IconButton } from '@chakra-ui/core'\nimport { FaPlay } from 'react-icons/fa'\n\ntype CardProps = BoxProps & {\n  onPlay?: () => void\n  title: string\n  description?: string\n  src?: string\n}\n\nexport const Card: React.FC<CardProps> = ({\n  title,\n  onPlay,\n  description,\n  src,\n  ...boxProps\n}) => (\n  <Box\n    {...boxProps}\n    w=\"3xs\"\n    borderWidth=\"1px\"\n    rounded=\"lg\"\n    overflow=\"hidden\"\n    boxShadow=\"sm\"\n  >\n    <Box position=\"relative\">\n      {onPlay && (\n        <IconButton\n          onClick={onPlay}\n          aria-label={`play ${title}`}\n          icon={FaPlay}\n          isRound={true}\n          m=\"2\"\n          size=\"sm\"\n          bottom=\"0\"\n          position=\"absolute\"\n        />\n      )}\n      <Image src={src} alt={title} />\n    </Box>\n    <Box d=\"flex\" flexDirection=\"column\" p=\"1\">\n      <Box fontWeight=\"bold\">{title}</Box>\n      {description && <Box fontSize=\"sm\">{description}</Box>}\n    </Box>\n  </Box>\n)\n","import React, {\n  useRef,\n  useState,\n  useLayoutEffect,\n  useCallback,\n  useEffect,\n} from 'react'\nimport { Box, BoxProps, IconButton, Heading, Flex } from '@chakra-ui/core'\nimport { FaChevronCircleLeft, FaChevronCircleRight } from 'react-icons/fa'\n\ntype SlidingBoxProps = {\n  label: string\n} & BoxProps\n\nexport const SlidingBox: React.FC<SlidingBoxProps> = ({\n  children,\n  label,\n  ...boxProps\n}) => {\n  const itemsRef = useRef<HTMLDivElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const [offset, setOffset] = useState(0)\n  const [progress, setProgress] = useState(0)\n  const [windowSize, setWindowSize] = useState(0)\n  const [transitionsNumber, setTransitionsNumber] = useState(0)\n\n  const childrenCount = React.Children.count(children)\n\n  useEffect(() => {\n    const handleResize = () => setWindowSize(window.innerWidth)\n\n    window.addEventListener('resize', handleResize)\n\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  useLayoutEffect(() => {\n    const visibleWidth = containerRef.current?.clientWidth ?? 0\n    const totalWidth = itemsRef.current?.clientWidth ?? 0\n\n    const offset = childrenCount && totalWidth / childrenCount\n    const transitionsNumber =\n      offset && Math.ceil(childrenCount - visibleWidth / offset) + 1\n\n    setOffset(offset)\n    setTransitionsNumber(transitionsNumber > 0 ? transitionsNumber : 0)\n  }, [childrenCount, windowSize])\n\n  const moveBackward = useCallback(\n    () => setProgress(v => (v - 1 + transitionsNumber) % transitionsNumber),\n    [transitionsNumber]\n  )\n\n  const moveForward = useCallback(\n    () => setProgress(v => (v + 1) % transitionsNumber),\n    [transitionsNumber]\n  )\n\n  return (\n    <Box {...boxProps} width=\"100%\" position=\"relative\">\n      <Heading pl={3}>{label}</Heading>\n      {!!transitionsNumber && (\n        <IconButton\n          size=\"lg\"\n          isRound\n          position=\"absolute\"\n          zIndex={1}\n          left=\"0\"\n          top=\"50%\"\n          bottom=\"50%\"\n          aria-label={`${label} section forward`}\n          icon={FaChevronCircleLeft}\n          onClick={moveBackward}\n        />\n      )}\n      <Box ref={containerRef} overflowX=\"hidden\">\n        <Flex\n          ref={itemsRef}\n          width=\"max-content\"\n          transform={`translateX(-${offset * progress}px)`}\n          transition=\"transform .3s ease\"\n        >\n          {children}\n        </Flex>\n      </Box>\n      {!!transitionsNumber && (\n        <IconButton\n          size=\"lg\"\n          isRound\n          position=\"absolute\"\n          zIndex={1}\n          right=\"0\"\n          top=\"50%\"\n          bottom=\"50%\"\n          aria-label={`${label} section forward`}\n          icon={FaChevronCircleRight}\n          onClick={moveForward}\n        />\n      )}\n    </Box>\n  )\n}\n","import React from 'react'\nimport { Box, Flex, IconButton } from '@chakra-ui/core'\nimport { FaHeart, FaPlay } from 'react-icons/fa'\nimport { noop } from 'lodash-es'\n\nimport { normalizeDuration } from '../../utils/helpers'\n\ntype TrackProps = {\n  title: string\n  duration: number\n  artist: string\n  liked?: boolean\n  onPlay?: () => void\n}\n\nexport const Track: React.FC<TrackProps> = ({\n  title,\n  duration,\n  artist,\n  liked,\n  onPlay,\n}) => {\n  return (\n    <Flex\n      align=\"center\"\n      justify=\"space-between\"\n      borderWidth=\"1px\"\n      flexGrow={1}\n      p={2}\n    >\n      <Flex align=\"center\" justify=\"center\">\n        <IconButton\n          variant=\"outline\"\n          icon={FaPlay}\n          aria-label={`play ${title} by ${artist}`}\n          onClick={onPlay}\n          mr={3}\n        />\n        <Box>\n          <Box fontWeight=\"bold\" fontSize=\"md\">\n            {title}\n          </Box>\n          <Box fontSize=\"sm\">{artist}</Box>\n        </Box>\n      </Flex>\n      <Flex align=\"center\">\n        {liked && <Box mr=\"3\" color=\"red.500\" as={FaHeart} />}\n        <Box>{normalizeDuration(duration)}</Box>\n      </Flex>\n    </Flex>\n  )\n}\n\nTrack.defaultProps = {\n  liked: false,\n  onPlay: noop,\n}\n","export const normalizeDuration = (duration: number): string => {\n  const minutes = Math.floor(duration / 60)\n  const seconds = `${duration % 60}`.padStart(2, '0')\n\n  return `${minutes}:${seconds}`\n}\n","import React, { useState, useEffect } from 'react'\nimport { Box, SimpleGrid, Flex, Heading, Spinner } from '@chakra-ui/core'\n\nimport { Link } from 'react-router-dom'\n\nimport { Track, Radio, Album, Genre } from '../../modules/deezer/api/types'\nimport { api } from '../../modules/deezer/api'\nimport { Card } from '../../components/card'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Track as TrackComponent } from '../../components/track'\n\nexport const Homepage: React.FC<{}> = () => {\n  const [releases, setReleases] = useState<Array<Album>>([])\n  const [stations, setStations] = useState<Array<Radio>>([])\n  const [tracks, setTracks] = useState<Array<Track>>([])\n  const [editorials, setEditorials] = useState<Array<Genre>>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const chart = (await api.chart.fetchCharts()).body\n      const stations = (await api.radio.fetchTopStations()).body\n      const releases = (await api.editorial.fetchReleases()).body\n      const editorials = (await api.editorial.fetchEditorials()).body\n\n      setEditorials(editorials?.data || [])\n      setStations(stations?.data || [])\n      setReleases(releases?.data || [])\n      setTracks(chart?.tracks.data || [])\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box d=\"flex\" flexWrap=\"wrap\">\n      <SlidingBox mb={3} label=\"Top stations\">\n        {stations.map(({ id, picture_medium, title }) => (\n          <Card\n            key={id}\n            title={title}\n            src={picture_medium}\n            onPlay={() => DZ.player.playRadio(id)}\n            m=\"3\"\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Latest releases\">\n        {releases.map(({ id, artist, title, cover_medium }) => (\n          <Card\n            key={id}\n            title={title}\n            description={artist.name}\n            src={cover_medium}\n            onPlay={() => DZ.player.playAlbum(id)}\n            m=\"3\"\n          />\n        ))}\n      </SlidingBox>\n\n      <SimpleGrid width=\"100%\" columns={[1, 2]} spacing={8} px={3}>\n        {tracks.map(({ title, artist, duration, id }) => (\n          <TrackComponent\n            key={id}\n            onPlay={() => DZ.player.playTracks([`${id}`])}\n            title={title}\n            duration={duration}\n            artist={artist.name}\n          />\n        ))}\n      </SimpleGrid>\n\n      <Box>\n        <Heading p={3}>Music by genre</Heading>\n        <Flex\n          justify={{ xs: 'center', md: 'space-between' }}\n          flexWrap=\"wrap\"\n          width=\"100%\"\n          px={3}\n        >\n          {editorials\n            .filter(({ id }) => id !== 0)\n            .map(({ name, id, picture_medium }) => (\n              <Link key={id} to={`/genre/${id}`}>\n                <Card mb={3} title={name} src={picture_medium} />\n              </Link>\n            ))}\n        </Flex>\n      </Box>\n    </Box>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { Box, Heading, SimpleGrid, Flex, Spinner } from '@chakra-ui/core'\nimport { FaMusic } from 'react-icons/fa'\n\nimport { api } from '../../modules/deezer/api'\nimport { Chart, Genre as GenreType } from '../../modules/deezer/api/types'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Card } from '../../components/card'\nimport { Track } from '../../components/track'\n\nexport const Genre: React.FC<{}> = () => {\n  const [chart, setChart] = useState<Chart>()\n  const [genre, setGenre] = useState<GenreType>()\n  const [isLoading, setIsLoading] = useState(true)\n  const { id } = useParams()\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const chart = (await api.chart.fetchById(id)).body\n      const genre = (await api.genre.fetchById(id)).body\n\n      genre && setGenre(genre)\n      chart && setChart(chart)\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [id])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      {genre?.name && (\n        <Flex pl={3} align=\"center\">\n          <Box as={FaMusic} size={8} />\n          <Heading pl={3}>{genre.name}</Heading>\n        </Flex>\n      )}\n\n      <SlidingBox label=\"Artists\">\n        {chart?.artists.data.map(({ id, name, picture_medium }) => (\n          <Link key={id} to={`/artist/${id}`}>\n            <Card m={3} src={picture_medium} title={name} />\n          </Link>\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Albums\">\n        {chart?.albums.data.map(({ id, title, cover_medium, artist }) => (\n          <Card\n            m={3}\n            key={id}\n            src={cover_medium}\n            title={title}\n            description={artist.name}\n            onPlay={() => DZ.player.playAlbum(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Playlists\">\n        {chart?.playlists.data.map(({ id, title, picture_medium }) => (\n          <Card\n            m={3}\n            key={id}\n            src={picture_medium}\n            title={title}\n            onPlay={() => DZ.player.playPlaylist(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <Heading pl={3}>Popular tracks</Heading>\n      <SimpleGrid columns={{ xs: 1, sm: 2 }} spacing={3} px={3}>\n        {chart?.tracks.data.map(({ id, title, duration, artist }) => (\n          <Track\n            key={id}\n            title={title}\n            duration={duration}\n            artist={artist.name}\n            onPlay={() => DZ.player.playTracks([`${id}`])}\n          />\n        ))}\n      </SimpleGrid>\n    </Box>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Box,\n  Heading,\n  PseudoBox,\n  Text,\n  Image,\n  Flex,\n  Spinner,\n} from '@chakra-ui/core'\nimport { take } from 'lodash-es'\nimport { useParams } from 'react-router'\nimport { Link } from 'react-router-dom'\n\nimport { api } from '../../modules/deezer/api'\nimport {\n  Artist as ArtistType,\n  Album,\n  Track as TrackType,\n} from '../../modules/deezer/api/types'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Card } from '../../components/card'\nimport { Track } from '../../components/track'\n\nexport const Artist: React.FC<{}> = () => {\n  const [artist, setArtist] = useState<ArtistType>()\n  const [relatedArtists, setRelatedArtists] = useState<Array<ArtistType>>([])\n  const [albums, setAlbums] = useState<Array<Album>>([])\n  const [topTracks, setTopTracks] = useState<Array<TrackType>>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const { id } = useParams()\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const artist = (await api.artist.fetchById(id)).body\n      const albums = (await api.artist.fetchAlbums(id)).body\n      const relatedArtists = (await api.artist.fetchRelatedArtists(id)).body\n      const topTracks = (await api.artist.fetchTopTracks(id)).body\n\n      relatedArtists && setRelatedArtists(relatedArtists.data)\n      albums && setAlbums(albums.data)\n      artist && setArtist(artist)\n      setTopTracks(topTracks?.data || [])\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [id])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      <Flex mx={3}>\n        <Image size=\"2xs\" alt={artist?.name} src={artist?.picture_big} />\n        <Box ml={3}>\n          <Text textTransform=\"uppercase\">Artist</Text>\n          <Heading>{artist?.name}</Heading>\n          <Box>\n            <Text as=\"span\" fontWeight=\"semibold\" pr={1}>\n              Related artists:\n            </Text>\n            {take(relatedArtists, 3).map(({ id, name }, index, arr) => (\n              <React.Fragment key={id}>\n                <PseudoBox as=\"span\" _hover={{ textDecoration: 'underline' }}>\n                  <Link to={`/artist/${id}`}>{name}</Link>\n                </PseudoBox>\n                {index !== arr.length - 1 && <Text as=\"span\">, </Text>}\n              </React.Fragment>\n            ))}\n          </Box>\n        </Box>\n      </Flex>\n\n      <Box m={3}>\n        <Heading mb={3}>Top tracks</Heading>\n        {topTracks.map(({ id, title, artist, duration }) => (\n          <Track\n            key={id}\n            title={title}\n            artist={artist.name}\n            duration={duration}\n            onPlay={() => DZ.player.playTracks([`${id}`])}\n          />\n        ))}\n      </Box>\n\n      <SlidingBox label=\"Albums\">\n        {albums?.map(({ id, title, cover_medium }) => (\n          <Card\n            m={3}\n            key={id}\n            title={title}\n            src={cover_medium}\n            onPlay={() => DZ.player.playAlbum(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Related artists\">\n        {relatedArtists?.map(({ id, name, picture_medium }) => (\n          <Link key={id} to={`/artist/${id}`}>\n            <Card m={3} title={name} src={picture_medium} />\n          </Link>\n        ))}\n      </SlidingBox>\n    </Box>\n  )\n}\n","import React, { useEffect, Fragment } from 'react'\nimport { Box, CSSReset, useToast, PseudoBox } from '@chakra-ui/core'\nimport { Switch, Route, Link, useHistory } from 'react-router-dom'\n\nimport { Recognition } from './modules/recognition'\nimport { pageUrls, Navigation } from './modules/navigation'\nimport { Player } from './modules/deezer/components/player'\nimport { Auth } from './modules/deezer/components/auth'\nimport { Header } from './components/header'\nimport { Homepage } from './pages/homepage'\nimport { Genre } from './pages/genre'\nimport { Artist } from './pages/artist'\n\nexport function App() {\n  const toast = useToast()\n  const history = useHistory()\n\n  useEffect(() => {\n    const navigation = new Navigation(history)\n    const recognition = new Recognition()\n      .addCommand({ trigger: 'play', callback: DZ.player.play })\n      .addCommand({ trigger: 'stop', callback: DZ.player.pause })\n      .addCommand({ trigger: 'next', callback: DZ.player.next })\n      .addCommand({ trigger: 'previous', callback: DZ.player.prev })\n      .addCommand({\n        trigger: 'volume up',\n        callback: () => DZ.player.setVolume(DZ.player.getVolume() + 20),\n      })\n      .addCommand({\n        trigger: 'volume down',\n        callback: () => DZ.player.setVolume(DZ.player.getVolume() - 20),\n      })\n      .addCommand({\n        trigger: 'go to (.+)',\n        callback: args => {\n          navigation.scrollTo(args[0])\n        },\n      })\n\n    recognition.addEventListener('result', event => {\n      const speechEvent = event as SpeechRecognitionEvent\n\n      const results = Array.from(\n        speechEvent.results[speechEvent.resultIndex]\n      ).map(r => r.transcript)\n\n      toast({\n        position: 'top-right',\n        title: 'Recognized:',\n        description: results.join(' | '),\n      })\n    })\n\n    recognition.start()\n  }, [toast, history])\n\n  return (\n    <Fragment>\n      <CSSReset />\n      <Box>\n        <Header>\n          <Auth />\n          <PseudoBox pl={3} _hover={{ textDecoration: 'underline' }}>\n            <Link to={pageUrls.home}>Home</Link>\n          </PseudoBox>\n        </Header>\n        <Box mb=\"20\" as=\"main\">\n          <Switch>\n            <Route exact path={pageUrls.home}>\n              <Homepage />\n            </Route>\n            <Route exact path={pageUrls.genre}>\n              <Genre />\n            </Route>\n            <Route exact path={pageUrls.artist}>\n              <Artist />\n            </Route>\n          </Switch>\n        </Box>\n\n        <Player\n          p=\"2\"\n          bg=\"white\"\n          position=\"fixed\"\n          left=\"0\"\n          right=\"0\"\n          bottom=\"0\"\n          zIndex={10}\n        />\n      </Box>\n    </Fragment>\n  )\n}\n","type InitOptions = {\n  appId: string\n  channelUrl: string\n  onload: () => void\n}\n\nconst DEEZER_SDK_CDN_LINK = 'https://e-cdns-files.dzcdn.net/js/min/dz.js'\nconst DEEZER_CONTAINER_ID = 'dz-root'\n\nconst initDeezer = ({ appId, channelUrl, onload }: InitOptions) => {\n  const dzRoot = document.createElement('div')\n\n  dzRoot.id = DEEZER_CONTAINER_ID\n  document.body.appendChild(dzRoot)\n\n  const script = document.createElement('script')\n\n  script.src = DEEZER_SDK_CDN_LINK\n\n  document.head.appendChild(script)\n  ;(window as any).dzAsyncInit = () => {\n    DZ.init({\n      appId,\n      channelUrl,\n      player: {\n        onload,\n      },\n    })\n  }\n}\n\nexport { initDeezer }\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from '@chakra-ui/core'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport { initDeezer } from './modules/deezer'\n\nimport { App } from './App'\n\nconst appId = process.env.REACT_APP_DEEZER_APP_ID || ''\nconst channelUrl = window.location.href + 'channel.html' //TODO: May cause some routing issues in future, but for now it's okay\n\ninitDeezer({\n  appId,\n  channelUrl,\n  onload: () => {\n    ReactDOM.render(\n      <BrowserRouter basename=\"/voice-driven-music-app\">\n        <ThemeProvider>\n          <App />\n        </ThemeProvider>\n      </BrowserRouter>,\n      document.getElementById('root')\n    )\n  },\n})\n"],"sourceRoot":""}