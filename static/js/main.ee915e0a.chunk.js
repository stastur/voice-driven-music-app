(this["webpackJsonpvoice-driven-music-app"]=this["webpackJsonpvoice-driven-music-app"]||[]).push([[0],{39:function(e,t,n){e.exports=n(55)},54:function(e,t,n){},55:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(33),c=n.n(i),l=n(10),o=n(58),u=function e(){var t=this;Object(l.a)(this,e),this._recognition=void 0,this._commandsMap=new Map,this._eventListenersMap=new Map,this.setLanguage=function(e){return t._recognition.lang=e,t},this.setAlternatives=function(e){return t._recognition.maxAlternatives=e,t},this.setInterimResults=function(e){return t._recognition.interimResults=e,t},this.setContinuous=function(e){return t._recognition.continuous=e,t},this._initializeEventHandlers=function(){["speechstart","speechend","soundstart","soundend","nomatch","error","audiostart","audioend","result","start","end"].forEach((function(e){return t._recognition.addEventListener(e,(function(n){return t._getEventListener(e)(n)}))})),t._recognition.addEventListener("result",(function(e){var n=e.results[e.resultIndex],a=!0,r=!1,i=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var o=c.value;t._getCommandCallback(o.transcript)()}}catch(u){r=!0,i=u}finally{try{a||null==l.return||l.return()}finally{if(r)throw i}}})),t._recognition.addEventListener("end",(function(){t.start()}))},this._getCommandCallback=function(e){return t._commandsMap.get(e.toLocaleLowerCase(t._recognition.lang))||o.a},this._getEventListener=function(e){return t._eventListenersMap.get(e)||o.a},this.addCommand=function(e){return t._commandsMap.set(e.trigger.toLocaleLowerCase(t._recognition.lang),e.callback),t},this.addCommands=function(e){return e.forEach(t.addCommand),t},this.addEventListener=function(e,n){t._eventListenersMap.set(e,n)},this.removeEventListener=function(e){t._eventListenersMap.delete(e)},this.start=function(){t._recognition.start()},this.abort=function(){t._recognition.abort()},this.stop=function(){t._recognition.stop()};var n=window.webkitSpeechRecognition;if(!n)throw new Error("Speech recognition is not supported by your browser");this._recognition=new n,this._recognition.maxAlternatives=5,this._recognition.lang="en-US",this._recognition.interimResults=!1,this._recognition.continuous=!1,this._initializeEventHandlers()},s=n(13),d=n(5),f=n(61),m=n(60),h=n(22),p=function(e){var t=e.value;return r.a.createElement(d.a,{d:"flex",alignItems:"center"},r.a.createElement(d.a,{as:h.e,paddingRight:"1"}),r.a.createElement(d.a,{d:"flex",alignItems:"center"},r.a.createElement(f.d,{width:"24",value:t,onChange:DZ.player.setVolume},r.a.createElement(f.c,null),r.a.createElement(f.a,null),r.a.createElement(f.b,null))))},b=function(e){var t=e.isPlaying;return r.a.createElement(d.a,null,r.a.createElement(m.a,{variant:"outline","aria-label":"previous track",icon:h.a,onClick:DZ.player.prev}),r.a.createElement(m.a,{variant:"outline","aria-label":"play/pause track",icon:t?h.c:h.d,onClick:t?DZ.player.pause:DZ.player.play}),r.a.createElement(m.a,{variant:"outline","aria-label":"next track",icon:h.b,onClick:DZ.player.next}))},v=function(e){var t,n=e.details;return r.a.createElement(d.a,{px:"2",flexGrow:1},r.a.createElement(d.a,{fontWeight:"bold",fontSize:"md"},null===n||void 0===n?void 0:n.title),r.a.createElement(d.a,{fontSize:"xs"},null===n||void 0===n||null===(t=n.artist)||void 0===t?void 0:t.name))},g=function(e){var t=e.position,n=e.duration,a=n?t/n*100:0;return r.a.createElement(f.d,{onChange:DZ.player.seek,value:a},r.a.createElement(f.c,null),r.a.createElement(f.a,null),r.a.createElement(f.b,null))},_=function(e){var t=y(),n=t.track,i=t.volume,c=t.isPlaying,l=t.position,o=t.duration;return Object(a.useEffect)((function(){DZ.player.playAlbum(7102365,!1)}),[]),r.a.createElement(d.a,e,r.a.createElement(g,{position:l,duration:o}),r.a.createElement(d.a,{d:"flex",alignItems:"center"},r.a.createElement(b,{isPlaying:c}),r.a.createElement(v,{details:n}),r.a.createElement(p,{value:i})))},y=function(){var e=Object(a.useState)(DZ.player.getVolume()),t=Object(s.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(DZ.player.isPlaying()),c=Object(s.a)(i,2),l=c[0],o=c[1],u=Object(a.useState)(0),d=Object(s.a)(u,2),f=d[0],m=d[1],h=Object(a.useState)(0),p=Object(s.a)(h,2),b=p[0],v=p[1],g=Object(a.useState)(DZ.player.getCurrentTrack()),_=Object(s.a)(g,2),y=_[0],E=_[1];return Object(a.useLayoutEffect)((function(){DZ.Event.subscribe("volume_changed",r),DZ.Event.subscribe("current_track",(function(e){var t=e.track;return E(t)})),DZ.Event.subscribe("player_play",(function(){return o(!0)})),DZ.Event.subscribe("player_paused",(function(){return o(!1)})),DZ.Event.subscribe("player_position",(function(e){var t=Object(s.a)(e,2),n=t[0],a=t[1];m(n),v(a)}))}),[]),{track:y,volume:n,isPlaying:l,position:f,duration:b}},E=n(17),j=n(16),O=n(18),w=n(30),k=function e(t){var n=this;Object(l.a)(this,e),this._apiPath=void 0,this._callToAPI=function(e,t,n){return new Promise((function(a,r){var i=[e,t,n,a].filter(Object(w.negate)(w.isNil)),c=Object(w.curry)(DZ.api,i.length);try{i.reduce((function(e,t){return e(t)}),c)}catch(l){r(l)}}))},this._buildUrl=function(e){return e?"".concat(n._apiPath,"/").concat(e):n._apiPath},this._apiPath=t},A=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).fetchById=function(e){return n._callToAPI(n._buildUrl(e))},n}return Object(O.a)(t,e),t}(k),I=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).fetchById=function(e){return n._callToAPI(n._buildUrl(e))},n.fetchAlbumTracks=function(e){return n._callToAPI(n._buildUrl("".concat(e,"/tracks")))},n}return Object(O.a)(t,e),t}(k),D=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).fetchById=function(e){return n._callToAPI(n._buildUrl(e))},n.fetchStations=function(){return n._callToAPI(n._buildUrl())},n.fetchStationTracks=function(e){return n._callToAPI(n._buildUrl("".concat(e,"/tracks")))},n}return Object(O.a)(t,e),t}(k),Z=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).fetchById=function(e){return n._callToAPI(n._buildUrl(e))},n.fetchGenres=function(){return n._callToAPI(n._buildUrl())},n}return Object(O.a)(t,e),t}(k),C=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).searchEverything=function(e){return n._callToAPI(n._buildUrl("track?q=".concat(e)))},n.searchTracks=function(e){return n._callToAPI(n._buildUrl("track?q=".concat(e)))},n}return Object(O.a)(t,e),t}(k),P=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(E.a)(this,(e=Object(j.a)(t)).call.apply(e,[this].concat(r)))).fetchById=function(e){return n._callToAPI(n._buildUrl(e))},n.fetchArtistAlbums=function(e){return n._callToAPI(n._buildUrl("".concat(e,"/albums")))},n.fetchRelatedArtists=function(e){return n._callToAPI(n._buildUrl("".concat(e,"/related")))},n}return Object(O.a)(t,e),t}(k),x={track:new A("track"),album:new I("album"),radio:new D("radio"),genre:new Z("genre"),search:new C("search"),artist:new P("artist")},L=n(21),T=n(62),U=n(38),S=n(59),z=function(e){var t=e.title,n=e.description,a=e.src,i=Object(U.a)(e,["title","description","src"]);return r.a.createElement(d.a,Object.assign({},i,{w:"3xs",borderWidth:"1px",rounded:"lg",overflow:"hidden"}),r.a.createElement(S.a,{src:a,alt:t}),r.a.createElement(d.a,{d:"flex",flexDirection:"column",p:"1"},r.a.createElement(d.a,{fontWeight:"bold"},t),n&&r.a.createElement(d.a,{fontSize:"sm"},n)))};function M(){var e=Object(a.useState)([]),t=Object(s.a)(e,2),n=t[0],i=t[1];return Object(a.useEffect)((function(){x.artist.fetchArtistAlbums(8506054).then((function(e){return i(e.data)}))}),[]),r.a.createElement(L.a,null,r.a.createElement(T.a,null),r.a.createElement(d.a,{d:"flex",flexWrap:"wrap"},n.map((function(e){return r.a.createElement(z,{m:"3",key:e.id,src:e.cover_medium,title:e.title})}))),r.a.createElement(d.a,null,r.a.createElement(_,{px:"2"})))}n(54);!function(e){var t=e.appId,n=e.channelUrl,a=e.onload,r=document.createElement("div");r.id="dz-root",document.body.appendChild(r);var i=document.createElement("script");i.src="https://e-cdns-files.dzcdn.net/js/min/dz.js",document.head.appendChild(i),window.dzAsyncInit=function(){DZ.init({appId:t,channelUrl:n,player:{onload:a}})}}({appId:"404684",channelUrl:window.location.href+"channel.html",onload:function(){c.a.render(r.a.createElement(M,null),document.getElementById("root"));var e=(new u).addCommand({trigger:"play",callback:DZ.player.play}).addCommand({trigger:"stop",callback:DZ.player.pause}).addCommand({trigger:"next",callback:DZ.player.next}).addCommand({trigger:"previous",callback:DZ.player.prev}).addCommand({trigger:"volume up",callback:function(){return DZ.player.setVolume(DZ.player.getVolume()+20)}}).addCommand({trigger:"volume down",callback:function(){return DZ.player.setVolume(DZ.player.getVolume()-20)}});e.addEventListener("result",(function(e){console.log(e)})),e.start()}})}},[[39,1,2]]]);
//# sourceMappingURL=main.ee915e0a.chunk.js.map