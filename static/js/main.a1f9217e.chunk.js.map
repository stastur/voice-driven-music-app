{"version":3,"sources":["modules/recognition/recognition.ts","modules/navigation/navigation.ts","modules/deezer/api/api.ts","modules/deezer/components/player/Player.tsx","modules/deezer/components/auth/Auth.tsx","components/header/black-logo.svg","components/header/Header.tsx","components/card/Card.tsx","components/slidingBox/SlidingBox.tsx","utils/helpers.ts","components/track/Track.tsx","pages/homepage/Homepage.tsx","pages/genre/Genre.tsx","pages/artist/Artist.tsx","pages/myTracks/MyTracks.tsx","pages/searchResults/SearchResults.tsx","components/searchInput/SearchInput.tsx","utils/useQueryParams.ts","App.tsx","modules/deezer/index.ts","index.tsx"],"names":["Recognition","_recognition","_commandsMap","Map","_eventListenersMap","setLanguage","lang","setAlternatives","alternativesNumber","maxAlternatives","setInterimResults","interimResults","setContinuous","continuous","_initializeEventHandlers","forEach","type","addEventListener","event","_getEventListener","results","resultIndex","result","_getCommandCallback","transcript","start","key","callback","match","RegExp","exec","slice","entries","noop","get","addCommand","command","set","trigger","addCommands","commands","listener","removeEventListener","delete","abort","stop","SpeechRecognition","window","webkitSpeechRecognition","Error","this","isSupported","has","pageUrls","myTracks","search","genre","home","artist","Navigation","_history","scrollTo","target","node","document","evaluate","toLowerCase","body","iterateNext","element","parentElement","scrollIntoView","behavior","goTo","Object","values","includes","push","back","goBack","forward","goForward","ApiEntity","_apiPath","_request","path","method","data","Promise","resolve","params","res","response","error","filter","negate","isNil","curriedFn","curry","DZ","api","length","reduce","fn","arg","e","_buildUrl","TrackEntity","fetchById","id","AlbumEntity","fetchTracks","RadioEntity","fetchTopStations","fetchStations","GenreEntity","fetchGenres","SearchEntity","searchEverything","query","searchTracks","searchAlbums","searchArtists","ArtistEntity","fetchAlbums","fetchRelatedArtists","fetchTopTracks","fetchAllTracks","a","total","ChartEntity","genreId","fetchCharts","UserEntity","fetchMe","addToFavorites","trackId","track_id","removeFromFavorites","isFavoriteTrack","find","EditorialEntity","fetchEditorials","fetchReleases","editorialId","track","album","radio","chart","user","editorial","ManageFavoriteButton","useState","isFavorite","setIsFavorite","throttledUpdate","useCallback","throttle","useEffect","boxProps","onClick","title","color","_hover","Box","px","PseudoBox","as","FaHeart","cursor","Volume","value","d","alignItems","FaVolumeUp","paddingRight","Slider","width","onChange","player","setVolume","Controls","isPlaying","Flex","wrap","IconButton","variant","aria-label","icon","FaBackward","prev","FaPause","FaPlay","pause","play","FaForward","next","Song","details","flexGrow","fontWeight","fontSize","name","TrackProgress","position","duration","progressValue","seek","TracksQueue","tracks","active","isOpen","setIsOpen","Collapse","backgroundColor","bottom","right","maxHeight","overflowY","borderWidth","shadow","rounded","p","mb","List","height","map","FaMusic","Button","size","Player","props","useDeezerSubscriptions","volume","queue","isAuthorized","setIsAuthorized","getLoginStatus","status","Number","getTrackList","setQueue","getVolume","setIsPlaying","setPosition","setDuration","getCurrentTrack","setTrack","Event","subscribe","Auth","setUser","loginStatus","authResponse","justify","Menu","Avatar","src","picture_small","firstname","lastname","to","logout","login","loginResponse","perms","_extends","assign","i","arguments","source","prototype","hasOwnProperty","call","apply","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","createElement","fill","_ref8","_ref9","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","_ref19","_ref20","_ref21","_ref22","_ref23","_ref24","x1","y1","x2","y2","gradientUnits","stopColor","offset","_ref","svgRef","viewBox","ref","ForwardRef","forwardRef","Header","children","align","pr","flexDirection","Text","whiteSpace","LogoBlack","Card","onPlay","description","w","overflow","boxShadow","isRound","m","Image","alt","SlidingBox","label","itemsRef","useRef","containerRef","setOffset","progress","setProgress","windowSize","setWindowSize","transitionsNumber","setTransitionsNumber","childrenCount","React","Children","count","handleResize","innerWidth","useLayoutEffect","visibleWidth","current","clientWidth","totalWidth","Math","ceil","moveBackward","v","moveForward","Heading","pl","zIndex","left","top","FaChevronCircleLeft","overflowX","transform","transition","FaChevronCircleRight","startWith","item","without","Track","liked","mr","minutes","floor","seconds","padStart","normalizeDuration","defaultProps","Homepage","releases","setReleases","stations","setStations","setTracks","editorials","setEditorials","isLoading","setIsLoading","asyncEffect","Spinner","flexWrap","picture_medium","playRadio","cover_medium","playAlbum","SimpleGrid","columns","spacing","playTracks","String","xs","md","Genre","setChart","setGenre","useParams","artists","albums","playlists","playPlaylist","sm","_","Artist","setArtist","relatedArtists","setRelatedArtists","setAlbums","topTracks","setTopTracks","mx","picture_big","ml","textTransform","take","index","arr","Fragment","textDecoration","MyTracks","SearchResults","setArtists","useLocation","URLSearchParams","FaSearch","SearchInput","onSearchClick","setValue","useQueryParams","handleSearch","InputGroup","Input","placeholder","onKeyDown","keyCode","App","toast","useToast","history","useHistory","navigation","console","log","recognition","args","speechEvent","Array","from","r","join","CSSReset","display","justifyContent","paddingLeft","exact","bg","appId","channelUrl","onload","dzRoot","appendChild","script","head","dzAsyncInit","init","initDeezer","process","location","href","ReactDOM","render","basename","ThemeProvider","getElementById"],"mappings":"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","file":"static/js/main.a1f9217e.chunk.js","sourcesContent":["import { noop, has } from 'lodash-es'\n\nimport {\n  ICommand,\n  IRecognition,\n  ISpeechEventType,\n  ISpeechEventListener,\n} from './types'\n\nconst DEFAULT_LANGUAGE = 'en-US'\nconst DEFAULT_MAX_ALTERNATIVES = 5\n\nexport class Recognition implements IRecognition {\n  private _recognition: SpeechRecognition\n  private _commandsMap = new Map<ICommand['trigger'], ICommand['callback']>()\n  private _eventListenersMap = new Map<ISpeechEventType, ISpeechEventListener>()\n\n  static isSupported = () =>\n    has(window, 'webkitSpeechRecognition') || has(window, 'SpeechRecognition')\n\n  constructor() {\n    const SpeechRecognition =\n      (window as any).webkitSpeechRecognition ||\n      (window as any).SpeechRecognition\n\n    if (!SpeechRecognition) {\n      throw new Error('Speech recognition is not supported by your browser')\n    }\n\n    this._recognition = new SpeechRecognition()\n\n    this._recognition.maxAlternatives = DEFAULT_MAX_ALTERNATIVES\n    this._recognition.lang = DEFAULT_LANGUAGE\n    this._recognition.interimResults = false\n    this._recognition.continuous = false\n\n    this._initializeEventHandlers()\n  }\n\n  setLanguage = (lang: string) => {\n    this._recognition.lang = lang\n    return this\n  }\n\n  setAlternatives = (alternativesNumber: number) => {\n    this._recognition.maxAlternatives = alternativesNumber\n    return this\n  }\n\n  setInterimResults = (interimResults: boolean) => {\n    this._recognition.interimResults = interimResults\n    return this\n  }\n\n  setContinuous = (continuous: boolean) => {\n    this._recognition.continuous = continuous\n    return this\n  }\n\n  private _initializeEventHandlers = () => {\n    ;[\n      'speechstart',\n      'speechend',\n      'soundstart',\n      'soundend',\n      'nomatch',\n      'error',\n      'audiostart',\n      'audioend',\n      'result',\n      'start',\n      'end',\n    ].forEach(type =>\n      this._recognition.addEventListener(type, event =>\n        this._getEventListener(type as ISpeechEventType)(event)\n      )\n    )\n\n    this._recognition.addEventListener('result', event => {\n      const results = event.results[event.resultIndex]\n\n      for (const result of results) {\n        this._getCommandCallback(result.transcript)()\n      }\n    })\n\n    this._recognition.addEventListener('end', () => {\n      this.start()\n    })\n  }\n\n  private _getCommandCallback = (result: string) => {\n    for (const [key, callback] of this._commandsMap.entries()) {\n      const match = new RegExp(`^${key}$`, 'i').exec(result)\n\n      if (match) {\n        return () => callback(match.slice(1))\n      }\n    }\n\n    return noop\n  }\n\n  private _getEventListener = (event: ISpeechEventType) => {\n    return this._eventListenersMap.get(event) || noop\n  }\n\n  addCommand = (command: ICommand) => {\n    this._commandsMap.set(command.trigger, command.callback)\n    return this\n  }\n\n  addCommands = (commands: ICommand[]) => {\n    commands.forEach(this.addCommand)\n    return this\n  }\n\n  addEventListener = (\n    type: ISpeechEventType,\n    listener: ISpeechEventListener\n  ) => {\n    this._eventListenersMap.set(type, listener)\n  }\n\n  removeEventListener = (type: ISpeechEventType) => {\n    this._eventListenersMap.delete(type)\n  }\n\n  start = () => {\n    this._recognition.start()\n  }\n\n  abort = () => {\n    this._recognition.abort()\n  }\n\n  stop = () => {\n    this._recognition.stop()\n  }\n}\n","import { History } from 'history'\n\nexport const pageUrls = {\n  myTracks: '/my-tracks',\n  search: '/search',\n  genre: '/genre/:id',\n  home: '/',\n  artist: '/artist/:id',\n}\n\nexport class Navigation {\n  constructor(private _history: History) {}\n\n  scrollTo = (target: string) => {\n    const nodes = document.evaluate(\n      // I'd like to simply write //*[matches(text(), \"value\", \"i\")], but JS says it's an invalid xpath\n      `//div[@id=\"root\"]//*[contains(translate(text(), \"ABCDEFGHIJKLMNOPURSTUWXYZ\",\"abcdefghijklmnopurstuwxyz\"),\"${target.toLowerCase()}\")]`,\n      document.body\n    )\n    const node = nodes.iterateNext()\n\n    const element = node?.parentElement\n\n    if (!element) {\n      return\n    }\n\n    element.scrollIntoView({ behavior: 'smooth' })\n  }\n\n  goTo = (target: string) => {\n    if (!Object.values(pageUrls).includes(target)) {\n      return\n    }\n\n    this._history.push(target)\n  }\n\n  back = () => {\n    this._history.goBack()\n  }\n\n  forward = () => {\n    this._history.goForward()\n  }\n}\n","import { curry, isNil, negate } from 'lodash-es'\n\nimport {\n  Track,\n  Album,\n  DataArray,\n  Radio,\n  Genre,\n  Artist,\n  ApiResponse,\n  Chart,\n  User,\n  Playlist,\n  SearchResults,\n} from './types'\n\nabstract class ApiEntity {\n  protected abstract _apiPath: string\n\n  protected _request = <T>(\n    path: string,\n    method?: DeezerSdk.HttpMethod,\n    data?: any\n  ) => {\n    return new Promise<ApiResponse<T>>(resolve => {\n      const resolver = (res: any) => {\n        const response = res.error ? { error: res.error } : { body: res }\n        resolve(response)\n      }\n\n      const params = [path, method, data, resolver].filter(negate(isNil))\n      const curriedFn = curry(DZ.api, params.length)\n\n      try {\n        params.reduce((fn, arg) => fn(arg), curriedFn)\n      } catch (e) {\n        resolve({ error: e })\n      }\n    })\n  }\n\n  protected _buildUrl = (path?: string | number) =>\n    path ? `${this._apiPath}/${path}` : this._apiPath\n}\n\nclass TrackEntity extends ApiEntity {\n  protected _apiPath = 'track'\n\n  fetchById = (id: number) => {\n    return this._request<Track>(this._buildUrl(id))\n  }\n}\n\nclass AlbumEntity extends ApiEntity {\n  protected _apiPath = 'album'\n\n  fetchById = (id: number) => {\n    return this._request<Album>(this._buildUrl(id))\n  }\n\n  fetchTracks = (id: number) => {\n    return this._request<Pick<Album, 'tracks'>>(this._buildUrl(`${id}/tracks`))\n  }\n}\n\nclass RadioEntity extends ApiEntity {\n  protected _apiPath = 'radio'\n\n  fetchById = (id: number) => {\n    return this._request<Radio>(this._buildUrl(id))\n  }\n\n  fetchTopStations = () => {\n    return this._request<DataArray<Radio>>(this._buildUrl('top'))\n  }\n\n  fetchStations = () => {\n    return this._request<DataArray<Radio>>(this._buildUrl())\n  }\n\n  fetchTracks = (id: number) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`${id}/tracks`))\n  }\n}\n\nclass GenreEntity extends ApiEntity {\n  protected _apiPath = 'genre'\n\n  fetchById = (id: number) => {\n    return this._request<Genre>(this._buildUrl(id))\n  }\n\n  fetchGenres = () => {\n    return this._request<DataArray<Genre>>(this._buildUrl())\n  }\n}\n\nclass SearchEntity extends ApiEntity {\n  protected _apiPath = 'search'\n\n  searchEverything = (query: string) => {\n    return this._request<SearchResults>(this._buildUrl(`?q=${query}`))\n  }\n\n  searchTracks = (query: string) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`track?q=${query}`))\n  }\n\n  searchAlbums = (query: string) => {\n    return this._request<DataArray<Album>>(this._buildUrl(`album?q=${query}`))\n  }\n\n  searchArtists = (query: string) => {\n    return this._request<DataArray<Artist>>(this._buildUrl(`artist?q=${query}`))\n  }\n}\n\nclass ArtistEntity extends ApiEntity {\n  protected _apiPath = 'artist'\n\n  fetchById = (id: number) => {\n    return this._request<Artist>(this._buildUrl(id))\n  }\n\n  fetchAlbums = (id: number) => {\n    return this._request<DataArray<Album>>(this._buildUrl(`${id}/albums`))\n  }\n\n  fetchRelatedArtists = (id: number) => {\n    return this._request<DataArray<Artist>>(this._buildUrl(`${id}/related`))\n  }\n\n  fetchTopTracks = (id: number) => {\n    return this._request<DataArray<Track>>(this._buildUrl(`${id}/top`))\n  }\n\n  fetchAllTracks = async (id: number) => {\n    const data = (await this.fetchTopTracks(id)).body\n    const total = data?.total || 10\n\n    return this._request<DataArray<Track>>(\n      this._buildUrl(`${id}/top?limit=${total}`)\n    )\n  }\n}\n\nclass ChartEntity extends ApiEntity {\n  protected _apiPath = 'chart'\n\n  fetchById = (genreId: number) => {\n    return this._request<Chart>(this._buildUrl(genreId))\n  }\n\n  fetchCharts = () => {\n    return this._request<Chart>(this._buildUrl())\n  }\n}\n\nclass UserEntity extends ApiEntity {\n  protected _apiPath = 'user/me'\n\n  fetchMe = () => {\n    return this._request<User>(this._buildUrl())\n  }\n\n  fetchTracks = () => {\n    return this._request<Playlist['tracks']>(this._buildUrl('tracks'))\n  }\n\n  addToFavorites = (trackId: number) => {\n    return this._request<unknown>(this._buildUrl('tracks'), 'POST', {\n      track_id: trackId,\n    })\n  }\n\n  removeFromFavorites = (trackId: number) => {\n    return this._request<unknown>(this._buildUrl('tracks'), 'DELETE', {\n      track_id: trackId,\n    })\n  }\n\n  isFavoriteTrack = async (trackId: number) => {\n    const { body } = await this.fetchTracks()\n\n    if (!body) {\n      return false\n    }\n\n    return !!body.data.find(({ id }) => id === trackId)\n  }\n}\n\nclass EditorialEntity extends ApiEntity {\n  protected _apiPath = 'editorial'\n\n  fetchEditorials = () => {\n    return this._request<DataArray<Genre>>(this._buildUrl())\n  }\n\n  fetchReleases = (editorialId?: number) => {\n    return this._request<DataArray<Album>>(\n      this._buildUrl(`${editorialId || 0}/releases`)\n    )\n  }\n}\n\nexport const api = {\n  track: new TrackEntity(),\n  album: new AlbumEntity(),\n  radio: new RadioEntity(),\n  genre: new GenreEntity(),\n  search: new SearchEntity(),\n  artist: new ArtistEntity(),\n  chart: new ChartEntity(),\n  user: new UserEntity(),\n  editorial: new EditorialEntity(),\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { throttle } from 'lodash-es'\nimport {\n  Slider,\n  SliderFilledTrack,\n  SliderThumb,\n  SliderTrack,\n  Box,\n  IconButton,\n  BoxProps,\n  Collapse,\n  ListItem,\n  List,\n  Button,\n  ListIcon,\n  PseudoBox,\n  Flex,\n} from '@chakra-ui/core'\nimport {\n  FaBackward,\n  FaForward,\n  FaPlay,\n  FaPause,\n  FaVolumeUp,\n  FaMusic,\n  FaHeart,\n} from 'react-icons/fa'\n\nimport { api } from '../../api'\n\nconst ManageFavoriteButton: React.FC<{ trackId: number }> = ({ trackId }) => {\n  const [isFavorite, setIsFavorite] = useState(false)\n\n  const throttledUpdate = useCallback(\n    throttle(async (trackId: number) => {\n      const isFavorite = await api.user.isFavoriteTrack(trackId)\n\n      setIsFavorite(isFavorite)\n    }, 5000),\n    []\n  )\n\n  useEffect(() => {\n    throttledUpdate(trackId)\n  })\n\n  const boxProps = isFavorite\n    ? {\n        onClick: () => {\n          api.user.removeFromFavorites(trackId)\n          setIsFavorite(false)\n        },\n        title: 'Remove from favorites',\n        color: 'red.500',\n      }\n    : {\n        onClick: () => {\n          api.user.addToFavorites(trackId)\n          setIsFavorite(true)\n        },\n        title: 'Add to favorites',\n        color: 'gray.500',\n        _hover: { color: 'red.300' },\n      }\n\n  return (\n    <Box px=\"2\">\n      <PseudoBox as={FaHeart} cursor=\"pointer\" {...boxProps} />\n    </Box>\n  )\n}\n\nconst Volume: React.FC<{ value: number }> = ({ value }) => (\n  <Box px={2} d=\"flex\" alignItems=\"center\">\n    <Box as={FaVolumeUp} paddingRight=\"1\" />\n\n    <Box d=\"flex\" alignItems=\"center\">\n      <Slider width=\"24\" value={value} onChange={DZ.player.setVolume}>\n        <SliderTrack />\n        <SliderFilledTrack />\n        <SliderThumb />\n      </Slider>\n    </Box>\n  </Box>\n)\n\nconst Controls: React.FC<{ isPlaying: boolean }> = ({ isPlaying }) => (\n  <Flex wrap=\"nowrap\">\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"previous track\"\n      icon={FaBackward}\n      onClick={DZ.player.prev}\n    />\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"play/pause track\"\n      icon={isPlaying ? FaPause : FaPlay}\n      onClick={isPlaying ? DZ.player.pause : DZ.player.play}\n    />\n    <IconButton\n      variant=\"outline\"\n      aria-label=\"next track\"\n      icon={FaForward}\n      onClick={DZ.player.next}\n    />\n  </Flex>\n)\n\nconst Song: React.FC<{ details: DeezerSdk.Track } & BoxProps> = ({\n  details,\n  ...boxProps\n}) => (\n  <Box px=\"2\" flexGrow={1} {...boxProps}>\n    <Box fontWeight=\"bold\" fontSize=\"md\">\n      {details?.title}\n    </Box>\n    <Box fontSize=\"xs\">{details?.artist?.name}</Box>\n  </Box>\n)\n\nconst TrackProgress: React.FC<{ position: number; duration: number }> = ({\n  position,\n  duration,\n}) => {\n  const progressValue = duration ? (position / duration) * 100 : 0\n\n  return (\n    <Slider onChange={DZ.player.seek} value={progressValue}>\n      <SliderTrack />\n      <SliderFilledTrack />\n      <SliderThumb />\n    </Slider>\n  )\n}\n\nconst TracksQueue: React.FC<{\n  tracks: Array<DeezerSdk.Track>\n  active: string\n}> = ({ tracks, active }) => {\n  const [isOpen, setIsOpen] = useState(false)\n  const toggleIsOpen = () => setIsOpen(isOpen => !isOpen)\n\n  return (\n    <Box>\n      <Box position=\"relative\">\n        <Collapse\n          backgroundColor=\"white\"\n          position=\"absolute\"\n          bottom={0}\n          right={0}\n          isOpen={isOpen}\n          width=\"3xs\"\n          maxHeight=\"lg\"\n          overflowY=\"auto\"\n          borderWidth=\"1px\"\n          shadow=\"sm\"\n          rounded=\"lg\"\n          p={3}\n          mb={2}\n        >\n          {!!tracks.length ? (\n            <List height=\"100%\" width=\"100%\">\n              {tracks.map(track => (\n                <ListItem key={track.id} d=\"flex\" alignItems=\"center\">\n                  {active === track.id && <ListIcon icon={FaMusic} />}\n                  <Song key={track.id} details={track} />\n                </ListItem>\n              ))}\n            </List>\n          ) : (\n            'Queue is empty'\n          )}\n        </Collapse>\n      </Box>\n      <Button onClick={toggleIsOpen} size=\"sm\">\n        Queue\n      </Button>\n    </Box>\n  )\n}\n\nexport const Player: React.FC<BoxProps> = props => {\n  const {\n    track,\n    volume,\n    isPlaying,\n    position,\n    duration,\n    queue,\n  } = useDeezerSubscriptions()\n  const [isAuthorized, setIsAuthorized] = useState(false)\n\n  DZ.getLoginStatus(({ status }) => {\n    setIsAuthorized(status === 'connected')\n  })\n\n  return (\n    <Box {...props}>\n      <TrackProgress position={position} duration={duration} />\n\n      <Box d=\"flex\" alignItems=\"center\">\n        <Controls isPlaying={isPlaying} />\n        <Song details={track} />\n        {track && isAuthorized && (\n          <ManageFavoriteButton trackId={Number(track.id)} />\n        )}\n        <Volume value={volume} />\n        <TracksQueue tracks={queue} active={track?.id} />\n      </Box>\n    </Box>\n  )\n}\n\nconst useDeezerSubscriptions = () => {\n  const [queue, setQueue] = useState<Array<DeezerSdk.Track>>(\n    DZ.player.getTrackList()\n  )\n  const [volume, setVolume] = useState<number>(DZ.player.getVolume())\n  const [isPlaying, setIsPlaying] = useState<boolean>(DZ.player.isPlaying())\n  const [position, setPosition] = useState<number>(0)\n  const [duration, setDuration] = useState<number>(0)\n  const [track, setTrack] = useState<DeezerSdk.Track>(\n    DZ.player.getCurrentTrack()\n  )\n\n  useEffect(() => {\n    DZ.Event.subscribe('volume_changed', setVolume)\n    DZ.Event.subscribe('current_track', ({ track }) => setTrack(track))\n    DZ.Event.subscribe('player_play', () => setIsPlaying(true))\n    DZ.Event.subscribe('player_paused', () => setIsPlaying(false))\n    DZ.Event.subscribe('player_position', ([position, duration]) => {\n      setPosition(position)\n      setDuration(duration)\n    })\n    DZ.Event.subscribe('tracklist_changed', () =>\n      setQueue(DZ.player.getTrackList())\n    )\n  }, [])\n\n  return { track, volume, isPlaying, position, duration, queue }\n}\n","import React, { useState, useEffect } from 'react'\nimport { Link as RouterLink } from 'react-router-dom'\nimport {\n  Box,\n  Avatar,\n  Flex,\n  Menu,\n  MenuButton,\n  MenuList,\n  MenuGroup,\n  MenuItem,\n  MenuDivider,\n  Button,\n} from '@chakra-ui/core'\n\nimport { User } from '../../api/types'\nimport { api } from '../../api'\nimport { pageUrls } from '../../../navigation'\n\nexport const Auth: React.FC<{}> = () => {\n  const [user, setUser] = useState<User | null>(null)\n\n  useEffect(() => {\n    DZ.getLoginStatus(async loginStatus => {\n      if (loginStatus.authResponse) {\n        const { body } = await api.user.fetchMe()\n\n        return body && setUser(body)\n      }\n    })\n  }, [])\n\n  const isAuthorized = !!user\n\n  if (isAuthorized) {\n    return (\n      <Flex justify=\"center\">\n        <Menu>\n          <MenuButton>\n            <Avatar\n              size=\"sm\"\n              src={user?.picture_small}\n              name={`${user?.firstname} ${user?.lastname}`}\n            />\n          </MenuButton>\n          <MenuList>\n            <MenuGroup title=\"Profile\">\n              <MenuItem>\n                <RouterLink to={pageUrls.myTracks}>My Tracks</RouterLink>\n              </MenuItem>\n            </MenuGroup>\n            <MenuDivider />\n            <MenuGroup>\n              <MenuItem\n                onClick={() => {\n                  DZ.logout()\n                  setUser(null)\n                }}\n              >\n                Sign out\n              </MenuItem>\n            </MenuGroup>\n          </MenuList>\n        </Menu>\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      <Button\n        onClick={() =>\n          DZ.login(\n            //@ts-ignore typings\n            async loginResponse => {\n              if (!loginResponse.authResponse) {\n                return\n              }\n\n              const { body } = await api.user.fetchMe()\n              return body && setUser(body)\n            },\n            //@ts-ignore  are missing permissions\n            { perms: 'basic_access,manage_library,delete_library' }\n          )\n        }\n      >\n        Log in\n      </Button>\n    </Box>\n  )\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M335.461 94.9999C324.691 94.9999 315.831 88.5099 315.671 77.1099H366.671C367.339 74.0958 367.675 71.0173 367.671 67.93C367.671 47.34 353.581 34.2 332.841 34.2C310.671 34.2 295.471 51.4599 295.471 72.8299C295.471 96.5799 311.941 112.42 335.211 112.42C352.791 112.42 364.981 103.55 370.211 88.98L352.881 82.21C350.501 90.73 344.641 94.9999 335.461 94.9999ZM332.771 50.51C341.771 50.51 347.971 55.42 347.971 63.02L347.811 63.65H315.671C317.571 55.42 324.541 50.51 332.771 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref3 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M437.73 52.41V35.78H372.34V53.2H412.24L371.07 93.42V110.83H438.84V92.62H396.4L437.73 52.41Z\",\n  fill: \"white\"\n});\n\nvar _ref4 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M559.86 60.01C559.866 61.2709 559.782 62.5307 559.61 63.78H578.82C579.287 61.338 579.511 58.856 579.49 56.37C579.49 43.54 571.42 34.2 557.96 34.2C549.25 34.2 543.08 38.4799 539.91 45.4399V35.79H519.65V110.79H539.91V62.54C539.91 54.94 544.03 50.67 550.36 50.67C556.06 50.67 559.86 54.47 559.86 60.01Z\",\n  fill: \"white\"\n});\n\nvar _ref5 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M194.999 47.03C190.399 39.27 181.849 34.2 171.249 34.2C150.659 34.2 135.619 50.04 135.619 73.63C135.619 96.9 150.509 112.42 171.719 112.42C182.329 112.42 190.879 107.82 195.789 100.07V110.83H215.259V0H194.999V47.03ZM175.829 95.21C164.589 95.21 155.829 86.98 155.829 73.68C155.829 60.22 164.539 51.68 175.829 51.68C186.749 51.68 195.779 60.23 195.779 73.68C195.779 86.93 186.749 95.21 175.829 95.21Z\",\n  fill: \"white\"\n});\n\nvar _ref6 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M479.81 94.9999C469.04 94.9999 460.18 88.5099 460.02 77.1099H511.02C511.689 74.0958 512.024 71.0173 512.02 67.93C512.02 47.34 497.93 34.2 477.19 34.2C455.02 34.2 439.82 51.4599 439.82 72.8299C439.82 96.5799 456.29 112.42 479.56 112.42C497.14 112.42 509.33 103.55 514.56 88.98L497.22 82.21C494.85 90.73 489 94.9999 479.81 94.9999ZM477.12 50.51C486.12 50.51 492.32 55.42 492.32 63.02L492.16 63.65H460C461.92 55.42 468.88 50.51 477.12 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref7 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M260.63 94.9999C249.86 94.9999 241 88.5099 240.84 77.1099H291.84C292.497 74.0947 292.815 71.0157 292.79 67.93C292.79 47.34 278.7 34.2 257.96 34.2C235.79 34.2 220.59 51.4599 220.59 72.8299C220.59 96.5799 237.06 112.42 260.33 112.42C277.91 112.42 290.1 103.55 295.33 88.98L278.05 82.21C275.67 90.73 269.81 94.9999 260.63 94.9999ZM257.94 50.51C266.94 50.51 273.14 55.42 273.14 63.02L272.98 63.65H240.84C242.74 55.42 249.71 50.51 257.94 50.51Z\",\n  fill: \"white\"\n});\n\nvar _ref8 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 35.73H90.5195V50.22H115.35V35.73Z\",\n  fill: \"#29AB70\"\n});\n\nvar _ref9 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 55.9099H90.5195V70.3999H115.35V55.9099Z\",\n  fill: \"url(#paint0_linear)\"\n});\n\nvar _ref10 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 76.08H90.5195V90.57H115.35V76.08Z\",\n  fill: \"url(#paint1_linear)\"\n});\n\nvar _ref11 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M25.3398 96.26H0.509766V110.75H25.3398V96.26Z\",\n  fill: \"url(#paint2_linear)\"\n});\n\nvar _ref12 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 96.26H30.5098V110.75H55.3398V96.26Z\",\n  fill: \"url(#paint3_linear)\"\n});\n\nvar _ref13 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M85.3495 96.26H60.5195V110.75H85.3495V96.26Z\",\n  fill: \"url(#paint4_linear)\"\n});\n\nvar _ref14 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M115.35 96.26H90.5195V110.75H115.35V96.26Z\",\n  fill: \"url(#paint5_linear)\"\n});\n\nvar _ref15 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M85.3495 76.08H60.5195V90.57H85.3495V76.08Z\",\n  fill: \"url(#paint6_linear)\"\n});\n\nvar _ref16 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 76.08H30.5098V90.57H55.3398V76.08Z\",\n  fill: \"url(#paint7_linear)\"\n});\n\nvar _ref17 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M55.3398 55.9099H30.5098V70.3999H55.3398V55.9099Z\",\n  fill: \"url(#paint8_linear)\"\n});\n\nvar _ref18 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M335.461 94.9999C324.691 94.9999 315.831 88.5099 315.671 77.1099H366.671C367.339 74.0958 367.675 71.0173 367.671 67.93C367.671 47.34 353.581 34.2 332.841 34.2C310.671 34.2 295.471 51.4599 295.471 72.8299C295.471 96.5799 311.941 112.42 335.211 112.42C352.791 112.42 364.981 103.55 370.211 88.98L352.881 82.21C350.501 90.73 344.641 94.9999 335.461 94.9999ZM332.771 50.51C341.771 50.51 347.971 55.42 347.971 63.02L347.811 63.65H315.671C317.571 55.42 324.541 50.51 332.771 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref19 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M437.73 52.41V35.78H372.34V53.2H412.24L371.07 93.42V110.83H438.84V92.62H396.4L437.73 52.41Z\",\n  fill: \"black\"\n});\n\nvar _ref20 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M559.86 60.01C559.866 61.2709 559.782 62.5307 559.61 63.78H578.82C579.287 61.338 579.511 58.856 579.49 56.37C579.49 43.54 571.42 34.2 557.96 34.2C549.25 34.2 543.08 38.4799 539.91 45.4399V35.79H519.65V110.79H539.91V62.54C539.91 54.94 544.03 50.67 550.36 50.67C556.06 50.67 559.86 54.47 559.86 60.01Z\",\n  fill: \"black\"\n});\n\nvar _ref21 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M194.999 47.03C190.399 39.27 181.849 34.2 171.249 34.2C150.659 34.2 135.619 50.04 135.619 73.63C135.619 96.9 150.509 112.42 171.719 112.42C182.329 112.42 190.879 107.82 195.789 100.07V110.83H215.259V0H194.999V47.03ZM175.829 95.21C164.589 95.21 155.829 86.98 155.829 73.68C155.829 60.22 164.539 51.68 175.829 51.68C186.749 51.68 195.779 60.23 195.779 73.68C195.779 86.93 186.749 95.21 175.829 95.21Z\",\n  fill: \"black\"\n});\n\nvar _ref22 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M479.81 94.9999C469.04 94.9999 460.18 88.5099 460.02 77.1099H511.02C511.689 74.0958 512.024 71.0173 512.02 67.93C512.02 47.34 497.93 34.2 477.19 34.2C455.02 34.2 439.82 51.4599 439.82 72.8299C439.82 96.5799 456.29 112.42 479.56 112.42C497.14 112.42 509.33 103.55 514.56 88.98L497.22 82.21C494.85 90.73 489 94.9999 479.81 94.9999ZM477.12 50.51C486.12 50.51 492.32 55.42 492.32 63.02L492.16 63.65H460C461.92 55.42 468.88 50.51 477.12 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref23 =\n/*#__PURE__*/\nReact.createElement(\"path\", {\n  d: \"M260.63 94.9999C249.86 94.9999 241 88.5099 240.84 77.1099H291.84C292.497 74.0947 292.815 71.0157 292.79 67.93C292.79 47.34 278.7 34.2 257.96 34.2C235.79 34.2 220.59 51.4599 220.59 72.8299C220.59 96.5799 237.06 112.42 260.33 112.42C277.91 112.42 290.1 103.55 295.33 88.98L278.05 82.21C275.67 90.73 269.81 94.9999 260.63 94.9999ZM257.94 50.51C266.94 50.51 273.14 55.42 273.14 63.02L272.98 63.65H240.84C242.74 55.42 249.71 50.51 257.94 50.51Z\",\n  fill: \"black\"\n});\n\nvar _ref24 =\n/*#__PURE__*/\nReact.createElement(\"defs\", null, React.createElement(\"linearGradient\", {\n  id: \"paint0_linear\",\n  x1: 104.55,\n  y1: 72.2999,\n  x2: 101.32,\n  y2: 53.9999,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2C8C9D\"\n}), React.createElement(\"stop\", {\n  offset: 0.04,\n  stopColor: \"#298E9A\"\n}), React.createElement(\"stop\", {\n  offset: 0.39,\n  stopColor: \"#129C83\"\n}), React.createElement(\"stop\", {\n  offset: 0.72,\n  stopColor: \"#05A475\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#00A770\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint1_linear\",\n  x1: 90.1495,\n  y1: 89.84,\n  x2: 115.72,\n  y2: 76.81,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2839BA\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#148CB3\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint2_linear\",\n  x1: 0.509766,\n  y1: 103.5,\n  x2: 25.3398,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#F6A500\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#F29100\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint3_linear\",\n  x1: 30.5098,\n  y1: 103.5,\n  x2: 55.3398,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#F29100\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#D12F5F\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint4_linear\",\n  x1: 60.5195,\n  y1: 103.5,\n  x2: 85.3495,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B4197C\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#472EAD\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint5_linear\",\n  x1: 90.5195,\n  y1: 103.5,\n  x2: 115.35,\n  y2: 103.5,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#2839BA\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#3072B7\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint6_linear\",\n  x1: 59.5395,\n  y1: 87.24,\n  x2: 86.3195,\n  y2: 79.41,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#B4197C\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#373AAC\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint7_linear\",\n  x1: 29.6398,\n  y1: 78.49,\n  x2: 56.2198,\n  y2: 88.16,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#FFCB00\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#D12F5F\"\n})), React.createElement(\"linearGradient\", {\n  id: \"paint8_linear\",\n  x1: 32.6098,\n  y1: 53.6299,\n  x2: 53.2398,\n  y2: 72.6699,\n  gradientUnits: \"userSpaceOnUse\"\n}, React.createElement(\"stop\", {\n  stopColor: \"#FFCF00\"\n}), React.createElement(\"stop\", {\n  offset: 1,\n  stopColor: \"#ED743B\"\n})));\n\nvar SvgBlackLogo = function SvgBlackLogo(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return React.createElement(\"svg\", _extends({\n    width: 580,\n    height: 113,\n    viewBox: \"0 0 580 113\",\n    fill: \"none\",\n    ref: svgRef\n  }, props), title ? React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18, _ref19, _ref20, _ref21, _ref22, _ref23, _ref24);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return React.createElement(SvgBlackLogo, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/black-logo.e1524107.svg\";\nexport { ForwardRef as ReactComponent };","import React from 'react'\nimport { Text, Box, Flex } from '@chakra-ui/core'\n\nimport { ReactComponent as LogoBlack } from './black-logo.svg'\n\nexport const Header: React.FC<{}> = ({ children }) => {\n  return (\n    <Flex as=\"header\" align=\"center\" p=\"2\">\n      <Flex flexGrow={1} align=\"center\" pr=\"10\">\n        {children}\n      </Flex>\n      <Flex align=\"baseline\" flexDirection={['column', 'unset']}>\n        <Text\n          as=\"span\"\n          whiteSpace=\"nowrap\"\n          fontWeight=\"bold\"\n          pr={['0', '2']}\n          fontSize={['sm', 'md']}\n        >\n          Powered by\n        </Text>\n        <Box as={LogoBlack} height=\"4\" width=\"auto\" />\n      </Flex>\n    </Flex>\n  )\n}\n","import React from 'react'\nimport { Box, Image, BoxProps, IconButton } from '@chakra-ui/core'\nimport { FaPlay } from 'react-icons/fa'\n\ntype CardProps = BoxProps & {\n  onPlay?: () => void\n  title: string\n  description?: string\n  src?: string\n}\n\nexport const Card: React.FC<CardProps> = ({\n  title,\n  onPlay,\n  description,\n  src,\n  ...boxProps\n}) => (\n  <Box\n    {...boxProps}\n    w=\"3xs\"\n    borderWidth=\"1px\"\n    rounded=\"lg\"\n    overflow=\"hidden\"\n    boxShadow=\"sm\"\n  >\n    <Box position=\"relative\">\n      {onPlay && (\n        <IconButton\n          onClick={onPlay}\n          aria-label={`play ${title}`}\n          icon={FaPlay}\n          isRound={true}\n          m=\"2\"\n          size=\"sm\"\n          bottom=\"0\"\n          position=\"absolute\"\n        />\n      )}\n      <Image src={src} alt={title} />\n    </Box>\n    <Box d=\"flex\" flexDirection=\"column\" p=\"1\">\n      <Box fontWeight=\"bold\">{title}</Box>\n      {description && <Box fontSize=\"sm\">{description}</Box>}\n    </Box>\n  </Box>\n)\n","import React, {\n  useRef,\n  useState,\n  useLayoutEffect,\n  useCallback,\n  useEffect,\n} from 'react'\nimport { Box, BoxProps, IconButton, Heading, Flex } from '@chakra-ui/core'\nimport { FaChevronCircleLeft, FaChevronCircleRight } from 'react-icons/fa'\n\ntype SlidingBoxProps = {\n  label: string\n} & BoxProps\n\nexport const SlidingBox: React.FC<SlidingBoxProps> = ({\n  children,\n  label,\n  ...boxProps\n}) => {\n  const itemsRef = useRef<HTMLDivElement>(null)\n  const containerRef = useRef<HTMLDivElement>(null)\n\n  const [offset, setOffset] = useState(0)\n  const [progress, setProgress] = useState(0)\n  const [windowSize, setWindowSize] = useState(0)\n  const [transitionsNumber, setTransitionsNumber] = useState(0)\n\n  const childrenCount = React.Children.count(children)\n\n  useEffect(() => {\n    const handleResize = () => setWindowSize(window.innerWidth)\n\n    window.addEventListener('resize', handleResize)\n\n    return () => window.removeEventListener('resize', handleResize)\n  }, [])\n\n  useLayoutEffect(() => {\n    const visibleWidth = containerRef.current?.clientWidth ?? 0\n    const totalWidth = itemsRef.current?.clientWidth ?? 0\n\n    const offset = childrenCount && totalWidth / childrenCount\n    const transitionsNumber =\n      offset && Math.ceil(childrenCount - visibleWidth / offset) + 1\n\n    setOffset(offset)\n    setTransitionsNumber(transitionsNumber > 0 ? transitionsNumber : 0)\n  }, [childrenCount, windowSize])\n\n  const moveBackward = useCallback(\n    () => setProgress(v => (v - 1 + transitionsNumber) % transitionsNumber),\n    [transitionsNumber]\n  )\n\n  const moveForward = useCallback(\n    () => setProgress(v => (v + 1) % transitionsNumber),\n    [transitionsNumber]\n  )\n\n  return (\n    <Box {...boxProps} width=\"100%\" position=\"relative\">\n      <Heading pl={3}>{label}</Heading>\n      {!!transitionsNumber && (\n        <IconButton\n          size=\"lg\"\n          isRound\n          position=\"absolute\"\n          zIndex={1}\n          left=\"0\"\n          top=\"50%\"\n          bottom=\"50%\"\n          aria-label={`${label} section forward`}\n          icon={FaChevronCircleLeft}\n          onClick={moveBackward}\n        />\n      )}\n      <Box ref={containerRef} overflowX=\"hidden\">\n        <Flex\n          ref={itemsRef}\n          width=\"max-content\"\n          transform={`translateX(-${offset * progress}px)`}\n          transition=\"transform .3s ease\"\n        >\n          {children}\n        </Flex>\n      </Box>\n      {!!transitionsNumber && (\n        <IconButton\n          size=\"lg\"\n          isRound\n          position=\"absolute\"\n          zIndex={1}\n          right=\"0\"\n          top=\"50%\"\n          bottom=\"50%\"\n          aria-label={`${label} section forward`}\n          icon={FaChevronCircleRight}\n          onClick={moveForward}\n        />\n      )}\n    </Box>\n  )\n}\n","import { without } from 'lodash-es'\n\nexport const normalizeDuration = (duration: number): string => {\n  const minutes = Math.floor(duration / 60)\n  const seconds = `${duration % 60}`.padStart(2, '0')\n\n  return `${minutes}:${seconds}`\n}\n\nexport const startWith = <T>(target: Array<T>, item: T) => {\n  return [item, ...without(target, item)]\n}\n","import React from 'react'\nimport { Box, Flex, IconButton } from '@chakra-ui/core'\nimport { FaHeart, FaPlay } from 'react-icons/fa'\nimport { noop } from 'lodash-es'\n\nimport { normalizeDuration } from '../../utils/helpers'\n\ntype TrackProps = {\n  title: string\n  duration: number\n  artist: string\n  liked?: boolean\n  onPlay?: () => void\n}\n\nexport const Track: React.FC<TrackProps> = ({\n  title,\n  duration,\n  artist,\n  liked,\n  onPlay,\n}) => {\n  return (\n    <Flex\n      align=\"center\"\n      justify=\"space-between\"\n      borderWidth=\"1px\"\n      flexGrow={1}\n      p={2}\n    >\n      <Flex align=\"center\" justify=\"center\">\n        <IconButton\n          variant=\"outline\"\n          icon={FaPlay}\n          aria-label={`play ${title} by ${artist}`}\n          onClick={onPlay}\n          mr={3}\n        />\n        <Box>\n          <Box fontWeight=\"bold\" fontSize=\"md\">\n            {title}\n          </Box>\n          <Box fontSize=\"sm\">{artist}</Box>\n        </Box>\n      </Flex>\n      <Flex align=\"center\">\n        {liked && <Box mr=\"3\" color=\"red.500\" as={FaHeart} />}\n        <Box>{normalizeDuration(duration)}</Box>\n      </Flex>\n    </Flex>\n  )\n}\n\nTrack.defaultProps = {\n  liked: false,\n  onPlay: noop,\n}\n","import React, { useState, useEffect } from 'react'\nimport { Box, SimpleGrid, Flex, Heading, Spinner } from '@chakra-ui/core'\n\nimport { Link } from 'react-router-dom'\n\nimport { Track, Radio, Album, Genre } from '../../modules/deezer/api/types'\nimport { api } from '../../modules/deezer/api'\nimport { Card } from '../../components/card'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Track as TrackComponent } from '../../components/track'\nimport { startWith } from '../../utils/helpers'\n\nexport const Homepage: React.FC<{}> = () => {\n  const [releases, setReleases] = useState<Array<Album>>([])\n  const [stations, setStations] = useState<Array<Radio>>([])\n  const [tracks, setTracks] = useState<Array<Track>>([])\n  const [editorials, setEditorials] = useState<Array<Genre>>([])\n  const [isLoading, setIsLoading] = useState(true)\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const chart = (await api.chart.fetchCharts()).body\n      const stations = (await api.radio.fetchTopStations()).body\n      const releases = (await api.editorial.fetchReleases()).body\n      const editorials = (await api.editorial.fetchEditorials()).body\n\n      setEditorials(editorials?.data || [])\n      setStations(stations?.data || [])\n      setReleases(releases?.data || [])\n      setTracks(chart?.tracks.data || [])\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box d=\"flex\" flexWrap=\"wrap\">\n      <SlidingBox mb={3} label=\"Top stations\">\n        {stations.map(({ id, picture_medium, title }) => (\n          <Card\n            key={id}\n            title={title}\n            src={picture_medium}\n            onPlay={() => DZ.player.playRadio(id)}\n            m=\"3\"\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Latest releases\">\n        {releases.map(({ id, artist, title, cover_medium }) => (\n          <Card\n            key={id}\n            title={title}\n            description={artist.name}\n            src={cover_medium}\n            onPlay={() => DZ.player.playAlbum(id)}\n            m=\"3\"\n          />\n        ))}\n      </SlidingBox>\n\n      <SimpleGrid width=\"100%\" columns={[1, 2]} spacing={8} px={3}>\n        {tracks.map(({ title, artist, duration, id }) => (\n          <TrackComponent\n            key={id}\n            onPlay={() =>\n              DZ.player.playTracks(\n                startWith(\n                  tracks.map(({ id }) => id),\n                  id\n                ).map(String)\n              )\n            }\n            title={title}\n            duration={duration}\n            artist={artist.name}\n          />\n        ))}\n      </SimpleGrid>\n\n      <Box>\n        <Heading p={3}>Music by genre</Heading>\n        <Flex\n          justify={{ xs: 'center', md: 'space-between' }}\n          flexWrap=\"wrap\"\n          width=\"100%\"\n          px={3}\n        >\n          {editorials\n            .filter(({ id }) => id !== 0)\n            .map(({ name, id, picture_medium }) => (\n              <Link key={id} to={`/genre/${id}`}>\n                <Card mb={3} title={name} src={picture_medium} />\n              </Link>\n            ))}\n        </Flex>\n      </Box>\n    </Box>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { useParams, Link } from 'react-router-dom'\nimport { Box, Heading, SimpleGrid, Flex, Spinner } from '@chakra-ui/core'\nimport { FaMusic } from 'react-icons/fa'\n\nimport { api } from '../../modules/deezer/api'\nimport { Chart, Genre as GenreType } from '../../modules/deezer/api/types'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Card } from '../../components/card'\nimport { Track } from '../../components/track'\nimport { startWith } from '../../utils/helpers'\n\nexport const Genre: React.FC<{}> = () => {\n  const [chart, setChart] = useState<Chart>()\n  const [genre, setGenre] = useState<GenreType>()\n  const [isLoading, setIsLoading] = useState(true)\n  const { id } = useParams()\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const chart = (await api.chart.fetchById(id)).body\n      const genre = (await api.genre.fetchById(id)).body\n\n      genre && setGenre(genre)\n      chart && setChart(chart)\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [id])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      {genre?.name && (\n        <Flex pl={3} align=\"center\">\n          <Box as={FaMusic} size={8} />\n          <Heading pl={3}>{genre.name}</Heading>\n        </Flex>\n      )}\n\n      <SlidingBox label=\"Artists\">\n        {chart?.artists.data.map(({ id, name, picture_medium }) => (\n          <Link key={id} to={`/artist/${id}`}>\n            <Card m={3} src={picture_medium} title={name} />\n          </Link>\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Albums\">\n        {chart?.albums.data.map(({ id, title, cover_medium, artist }) => (\n          <Card\n            m={3}\n            key={id}\n            src={cover_medium}\n            title={title}\n            description={artist.name}\n            onPlay={() => DZ.player.playAlbum(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Playlists\">\n        {chart?.playlists.data.map(({ id, title, picture_medium }) => (\n          <Card\n            m={3}\n            key={id}\n            src={picture_medium}\n            title={title}\n            onPlay={() => DZ.player.playPlaylist(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <Heading pl={3}>Popular tracks</Heading>\n      <SimpleGrid columns={{ xs: 1, sm: 2 }} spacing={3} px={3}>\n        {chart?.tracks.data.map(\n          ({ id, title, duration, artist }, _, tracks) => (\n            <Track\n              key={id}\n              title={title}\n              duration={duration}\n              artist={artist.name}\n              onPlay={() =>\n                DZ.player.playTracks(\n                  startWith(\n                    tracks.map(({ id }) => id),\n                    id\n                  ).map(String)\n                )\n              }\n            />\n          )\n        )}\n      </SimpleGrid>\n    </Box>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport {\n  Box,\n  Heading,\n  PseudoBox,\n  Text,\n  Image,\n  Flex,\n  Spinner,\n} from '@chakra-ui/core'\nimport { take } from 'lodash-es'\nimport { useParams } from 'react-router'\nimport { Link } from 'react-router-dom'\n\nimport { api } from '../../modules/deezer/api'\nimport {\n  Artist as ArtistType,\n  Album,\n  Track as TrackType,\n} from '../../modules/deezer/api/types'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Card } from '../../components/card'\nimport { Track } from '../../components/track'\nimport { startWith } from '../../utils/helpers'\n\nexport const Artist: React.FC<{}> = () => {\n  const [artist, setArtist] = useState<ArtistType>()\n  const [relatedArtists, setRelatedArtists] = useState<Array<ArtistType>>([])\n  const [albums, setAlbums] = useState<Array<Album>>([])\n  const [topTracks, setTopTracks] = useState<Array<TrackType>>([])\n  const [isLoading, setIsLoading] = useState(true)\n  const { id } = useParams()\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const artist = (await api.artist.fetchById(id)).body\n      const albums = (await api.artist.fetchAlbums(id)).body\n      const relatedArtists = (await api.artist.fetchRelatedArtists(id)).body\n      const topTracks = (await api.artist.fetchTopTracks(id)).body\n\n      relatedArtists && setRelatedArtists(relatedArtists.data)\n      albums && setAlbums(albums.data)\n      artist && setArtist(artist)\n      setTopTracks(topTracks?.data || [])\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [id])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box>\n      <Flex mx={3}>\n        <Image size={[\"8rem\", \"2xs\"]} alt={artist?.name} src={artist?.picture_big} />\n        <Box ml={3}>\n          <Text textTransform=\"uppercase\">Artist</Text>\n          <Heading>{artist?.name}</Heading>\n          <Box>\n            <Text as=\"span\" fontWeight=\"semibold\" pr={1}>\n              Related artists:\n            </Text>\n            {take(relatedArtists, 3).map(({ id, name }, index, arr) => (\n              <React.Fragment key={id}>\n                <PseudoBox as=\"span\" _hover={{ textDecoration: 'underline' }}>\n                  <Link to={`/artist/${id}`}>{name}</Link>\n                </PseudoBox>\n                {index !== arr.length - 1 && <Text as=\"span\">, </Text>}\n              </React.Fragment>\n            ))}\n          </Box>\n        </Box>\n      </Flex>\n\n      <Box m={3}>\n        <Heading mb={3}>Top tracks</Heading>\n        {topTracks.map(({ id, title, artist, duration }) => (\n          <Track\n            key={id}\n            title={title}\n            artist={artist.name}\n            duration={duration}\n            onPlay={() =>\n              DZ.player.playTracks(\n                startWith(\n                  topTracks.map(({ id }) => id),\n                  id\n                ).map(String)\n              )\n            }\n          />\n        ))}\n      </Box>\n\n      <SlidingBox label=\"Albums\">\n        {albums?.map(({ id, title, cover_medium }) => (\n          <Card\n            m={3}\n            key={id}\n            title={title}\n            src={cover_medium}\n            onPlay={() => DZ.player.playAlbum(id)}\n          />\n        ))}\n      </SlidingBox>\n\n      <SlidingBox label=\"Related artists\">\n        {relatedArtists?.map(({ id, name, picture_medium }) => (\n          <Link key={id} to={`/artist/${id}`}>\n            <Card m={3} title={name} src={picture_medium} />\n          </Link>\n        ))}\n      </SlidingBox>\n    </Box>\n  )\n}\n","import React, { useState, useEffect, useCallback } from 'react'\nimport { Box } from '@chakra-ui/core'\nimport { throttle } from 'lodash-es'\n\nimport { Playlist } from '../../modules/deezer/api/types'\nimport { api } from '../../modules/deezer/api'\nimport { Track } from '../../components/track'\nimport { startWith } from '../../utils/helpers'\n\nexport const MyTracks: React.FC<{}> = () => {\n  const [tracks, setTracks] = useState<Playlist['tracks']['data']>([])\n\n  const throttledUpdate = useCallback(\n    throttle(async () => {\n      const tracks = (await api.user.fetchTracks()).body?.data\n\n      tracks && setTracks(tracks)\n    }, 5000),\n    []\n  )\n\n  useEffect(() => {\n    throttledUpdate()\n  })\n\n  return (\n    <Box mx={3}>\n      {tracks.map(({ title, duration, artist, id }) => (\n        <Track\n          title={title}\n          duration={duration}\n          artist={artist.name}\n          onPlay={() =>\n            DZ.player.playTracks(\n              startWith(\n                tracks.map(({ id }) => id),\n                id\n              ).map(String)\n            )\n          }\n        />\n      ))}\n    </Box>\n  )\n}\n","import React, { useEffect, useState } from 'react'\nimport { Box, Heading, Flex, Spinner } from '@chakra-ui/core'\nimport { useLocation } from 'react-router'\nimport { FaSearch } from 'react-icons/fa'\n\nimport { Link } from 'react-router-dom'\n\nimport {\n  Track as TrackType,\n  Artist,\n  Album,\n} from '../../modules/deezer/api/types'\nimport { api } from '../../modules/deezer/api'\nimport { Track } from '../../components/track'\nimport { startWith } from '../../utils/helpers'\nimport { SlidingBox } from '../../components/slidingBox'\nimport { Card } from '../../components/card'\n\nexport const SearchResults: React.FC<{}> = () => {\n  const [isLoading, setIsLoading] = useState(true)\n  const [tracks, setTracks] = useState<Array<TrackType>>([])\n  const [artists, setArtists] = useState<Array<Artist>>([])\n  const [albums, setAlbums] = useState<Array<Album>>([])\n  const { search } = useLocation()\n\n  const query = new URLSearchParams(search).get('q') || ''\n\n  useEffect(() => {\n    const asyncEffect = async () => {\n      setIsLoading(true)\n\n      const tracks = (await api.search.searchTracks(query)).body\n      const artists = (await api.search.searchArtists(query)).body\n      const albums = (await api.search.searchAlbums(query)).body\n\n      tracks && setTracks(tracks.data)\n      artists && setArtists(artists.data)\n      albums && setAlbums(albums.data)\n\n      setIsLoading(false)\n    }\n\n    asyncEffect()\n  }, [query])\n\n  if (isLoading) {\n    return (\n      <Flex justify=\"center\" w=\"100%\">\n        <Spinner size=\"xl\" />\n      </Flex>\n    )\n  }\n\n  return (\n    <Box mx=\"3\">\n      <Flex pl={3} align=\"center\">\n        <Box as={FaSearch} size={8} />\n        <Heading pl={3}>{query}</Heading>\n      </Flex>\n\n      {!!tracks.length && (\n        <Box m={3}>\n          <Heading mb={3}>Tracks</Heading>\n          {tracks.map(({ id, title, artist, duration }) => (\n            <Track\n              key={id}\n              title={title}\n              artist={artist.name}\n              duration={duration}\n              onPlay={() =>\n                DZ.player.playTracks(\n                  startWith(\n                    tracks.map(({ id }) => id),\n                    id\n                  ).map(String)\n                )\n              }\n            />\n          ))}\n        </Box>\n      )}\n\n      {!!artists.length && (\n        <SlidingBox label=\"Artists\">\n          {artists.map(({ id, name, picture_medium }) => (\n            <Link key={id} to={`/artist/${id}`}>\n              <Card m={3} title={name} src={picture_medium} />\n            </Link>\n          ))}\n        </SlidingBox>\n      )}\n\n      {!!albums.length && (\n        <SlidingBox label=\"Albums\">\n          {albums.map(({ id, title, cover_medium }) => (\n            <Card\n              m={3}\n              key={id}\n              title={title}\n              src={cover_medium}\n              onPlay={() => DZ.player.playAlbum(id)}\n            />\n          ))}\n        </SlidingBox>\n      )}\n    </Box>\n  )\n}\n","import React, { useState, useEffect } from 'react'\nimport {\n  Box,\n  Input,\n  BoxProps,\n  InputRightElement,\n  IconButton,\n  InputGroup,\n} from '@chakra-ui/core'\nimport { FaSearch } from 'react-icons/fa'\n\nimport { useQueryParams } from '../../utils/useQueryParams'\n\ntype SearchInputProps = {\n  onSearchClick: (query: string) => void\n} & BoxProps\n\nconst ENTER_KEY_CODE = 13\n\nexport const SearchInput: React.FC<SearchInputProps> = ({\n  onSearchClick,\n  ...boxProps\n}) => {\n  const [value, setValue] = useState('')\n  const queryParams = useQueryParams()\n  const query = queryParams.get('q')\n\n  useEffect(() => {\n    query && setValue(query)\n  }, [query])\n\n  const handleSearch = () => onSearchClick(value)\n\n  return (\n    <Box {...boxProps}>\n      <InputGroup size=\"md\">\n        <Input\n          type=\"text\"\n          value={value}\n          placeholder=\"Search...\"\n          onChange={({\n            target: { value },\n          }: React.ChangeEvent<HTMLInputElement>) => setValue(value)}\n          onKeyDown={({ keyCode, target }: React.KeyboardEvent) => {\n            if (keyCode === ENTER_KEY_CODE) {\n              handleSearch()\n            }\n          }}\n        />\n        <InputRightElement>\n          <IconButton\n            icon={FaSearch}\n            aria-label=\"search\"\n            onClick={handleSearch}\n          />\n        </InputRightElement>\n      </InputGroup>\n    </Box>\n  )\n}\n","import { useLocation } from 'react-router'\n\nexport const useQueryParams = () => {\n  const { search } = useLocation()\n\n  return new URLSearchParams(search)\n}\n","import React, { useEffect, Fragment, useCallback } from 'react'\nimport { Box, CSSReset, useToast, PseudoBox } from '@chakra-ui/core'\nimport { Switch, Route, Link, useHistory } from 'react-router-dom'\n\nimport { Recognition } from './modules/recognition'\nimport { pageUrls, Navigation } from './modules/navigation'\nimport { Player } from './modules/deezer/components/player'\nimport { Auth } from './modules/deezer/components/auth'\nimport { Header } from './components/header'\nimport { Homepage } from './pages/homepage'\nimport { Genre } from './pages/genre'\nimport { Artist } from './pages/artist'\nimport { MyTracks } from './pages/myTracks'\nimport { api } from './modules/deezer/api'\nimport { SearchResults } from './pages/searchResults'\nimport { SearchInput } from './components/searchInput'\n\nexport function App() {\n  const toast = useToast()\n  const history = useHistory()\n\n  const handleSearch = useCallback(\n    (query: string) => history.push(`${pageUrls.search}?q=${query}`),\n    [history]\n  )\n\n  useEffect(() => {\n    const navigation = new Navigation(history)\n\n    console.log(Recognition.isSupported())\n    if (!Recognition.isSupported()) {\n      return\n    }\n\n    const recognition = new Recognition()\n      .setAlternatives(1)\n      .addCommand({ trigger: 'play', callback: DZ.player.play })\n      .addCommand({ trigger: 'stop', callback: DZ.player.pause })\n      .addCommand({ trigger: 'next', callback: DZ.player.next })\n      .addCommand({ trigger: 'previous', callback: DZ.player.prev })\n      .addCommand({\n        trigger: 'volume up',\n        callback: () => DZ.player.setVolume(DZ.player.getVolume() + 20),\n      })\n      .addCommand({\n        trigger: 'volume down',\n        callback: () => DZ.player.setVolume(DZ.player.getVolume() - 20),\n      })\n      .addCommand({\n        trigger: 'go to (.+)',\n        callback: args => {\n          navigation.scrollTo(args[0])\n        },\n      })\n      .addCommand({\n        trigger: 'like',\n        callback: () => {\n          api.user.addToFavorites(Number(DZ.player.getCurrentTrack().id))\n        },\n      })\n      .addCommand({\n        trigger: 'dislike',\n        callback: () => {\n          api.user.removeFromFavorites(Number(DZ.player.getCurrentTrack().id))\n        },\n      })\n      .addCommand({\n        trigger: 'search for (.+)',\n        callback: args => {\n          handleSearch(args[0])\n        },\n      })\n      .addCommand({\n        trigger: 'go back',\n        callback: () => {\n          navigation.back()\n        },\n      })\n      .addCommand({\n        trigger: 'go forward',\n        callback: () => {\n          navigation.forward()\n        },\n      })\n\n    recognition.addEventListener('result', event => {\n      const speechEvent = event as SpeechRecognitionEvent\n\n      const results = Array.from(\n        speechEvent.results[speechEvent.resultIndex]\n      ).map(r => r.transcript)\n\n      toast({\n        position: 'top-right',\n        title: 'Recognized:',\n        description: results.join(' | '),\n      })\n    })\n\n    recognition.start()\n  }, [toast, history, handleSearch])\n\n  return (\n    <Fragment>\n      <CSSReset />\n      <Box>\n        <Header>\n          <Auth />\n          <SearchInput\n            display=\"flex\"\n            justifyContent=\"center\"\n            paddingLeft={2}\n            onSearchClick={handleSearch}\n          />\n          <PseudoBox pl={3} _hover={{ textDecoration: 'underline' }}>\n            <Link to={pageUrls.home}>Home</Link>\n          </PseudoBox>\n        </Header>\n\n        <Box mb=\"20\" as=\"main\">\n          <Switch>\n            <Route exact path={pageUrls.home}>\n              <Homepage />\n            </Route>\n            <Route exact path={pageUrls.genre}>\n              <Genre />\n            </Route>\n            <Route exact path={pageUrls.artist}>\n              <Artist />\n            </Route>\n            <Route exact path={pageUrls.myTracks}>\n              <MyTracks />\n            </Route>\n            <Route exact path={pageUrls.search}>\n              <SearchResults />\n            </Route>\n          </Switch>\n        </Box>\n\n        <Player\n          p=\"2\"\n          bg=\"white\"\n          position=\"fixed\"\n          left=\"0\"\n          right=\"0\"\n          bottom=\"0\"\n          zIndex={10}\n        />\n      </Box>\n    </Fragment>\n  )\n}\n","type InitOptions = {\n  appId: string\n  channelUrl: string\n  onload: () => void\n}\n\nconst DEEZER_SDK_CDN_LINK = 'https://e-cdns-files.dzcdn.net/js/min/dz.js'\nconst DEEZER_CONTAINER_ID = 'dz-root'\n\nconst initDeezer = ({ appId, channelUrl, onload }: InitOptions) => {\n  const dzRoot = document.createElement('div')\n\n  dzRoot.id = DEEZER_CONTAINER_ID\n  document.body.appendChild(dzRoot)\n\n  const script = document.createElement('script')\n\n  script.src = DEEZER_SDK_CDN_LINK\n\n  document.head.appendChild(script)\n  ;(window as any).dzAsyncInit = () => {\n    DZ.init({\n      appId,\n      channelUrl,\n      player: {\n        onload,\n      },\n    })\n  }\n}\n\nexport { initDeezer }\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { ThemeProvider } from '@chakra-ui/core'\nimport { BrowserRouter } from 'react-router-dom'\n\nimport { initDeezer } from './modules/deezer'\n\nimport { App } from './App'\n\nconst appId = process.env.REACT_APP_DEEZER_APP_ID || ''\nconst channelUrl = window.location.href + 'channel.html' //TODO: May cause some routing issues in future, but for now it's okay\n\ninitDeezer({\n  appId,\n  channelUrl,\n  onload: () => {\n    ReactDOM.render(\n      <BrowserRouter basename=\"/voice-driven-music-app\">\n        <ThemeProvider>\n          <App />\n        </ThemeProvider>\n      </BrowserRouter>,\n      document.getElementById('root')\n    )\n  },\n})\n"],"sourceRoot":""}